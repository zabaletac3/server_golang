{
    "swagger": "2.0",
    "info": {
        "description": "API para plataforma veterinaria multi-tenant. Soporta panel de administración (staff) y app móvil (owners).\n\n## Autenticación\nTodas las rutas protegidas requieren el header `Authorization: Bearer \u003ctoken\u003e`.\n- **Staff**: Obtén tokens via `POST /api/auth/login`\n- **Owners (mobile)**: Obtén tokens via `POST /mobile/auth/login`\n\n## Multi-tenancy\nLas rutas que operan sobre datos de un tenant específico (patients, species, etc.) requieren el header `X-Tenant-ID` con el ObjectID del tenant.\nEste header debe enviarse en **todas** las peticiones a rutas marcadas con el parámetro `X-Tenant-ID`.\nEl frontend puede configurarlo una vez en el interceptor HTTP (axios/fetch).\n\n## Roles (RBAC)\nLas rutas del panel admin (`/api/*`) están protegidas por RBAC.\nRoles disponibles: `admin`, `veterinarian`, `receptionist`, `assistant`, `accountant`.\n\n## Paginación\nLas rutas que retornan listas soportan `skip` y `limit` como query params.\nRespuesta incluye `pagination: { skip, limit, total, total_pages }`.",
        "title": "Vetsify API",
        "contact": {
            "name": "Vetsify Support",
            "email": "support@vetsify.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/appointments": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get a paginated list of appointments with optional filters",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "List appointments",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Page number",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 20,
                        "description": "Items per page",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Filter by status",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Filter by appointment type",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by veterinarian ID",
                        "name": "veterinarian_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by patient ID",
                        "name": "patient_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by owner ID",
                        "name": "owner_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter from date (RFC3339)",
                        "name": "date_from",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter to date (RFC3339)",
                        "name": "date_to",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by priority",
                        "name": "priority",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Populate related data",
                        "name": "populate",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.PaginatedAppointmentsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Create a new appointment in the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Create appointment",
                "parameters": [
                    {
                        "description": "Appointment data",
                        "name": "appointment",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.CreateAppointmentDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/appointments/availability": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Check if a veterinarian is available at a specific time",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Check veterinarian availability",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Veterinarian ID",
                        "name": "veterinarian_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Scheduled time (RFC3339)",
                        "name": "scheduled_at",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Duration in minutes",
                        "name": "duration",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Exclude appointment ID (for updates)",
                        "name": "exclude_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AvailabilityResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/appointments/calendar": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get appointments organized by date for calendar display",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Get calendar view",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Start date (RFC3339)",
                        "name": "date_from",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "End date (RFC3339)",
                        "name": "date_to",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Filter by veterinarian ID",
                        "name": "veterinarian_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/internal_modules_appointments.CalendarViewResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/appointments/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get appointment details by ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Get appointment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "boolean",
                        "description": "Populate related data",
                        "name": "populate",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update appointment details",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Update appointment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Updated appointment data",
                        "name": "appointment",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.UpdateAppointmentDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Soft delete an appointment",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Delete appointment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/appointments/{id}/history": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get the status change history for an appointment",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Get status history",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/internal_modules_appointments.AppointmentStatusTransitionResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/appointments/{id}/status": {
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update the status of an appointment",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin-appointments"
                ],
                "summary": "Update appointment status",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "New status data",
                        "name": "status",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.UpdateStatusDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/audit-logs": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get paginated audit logs with optional filters",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "audit"
                ],
                "summary": "Get audit logs",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Page number",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 20,
                        "description": "Items per page",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by user ID",
                        "name": "user_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by event type",
                        "name": "event_type",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by resource",
                        "name": "resource",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter from date (RFC3339)",
                        "name": "date_from",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter to date (RFC3339)",
                        "name": "date_to",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/audit-logs/{resource}/{resource_id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get audit logs for a specific resource",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "audit"
                ],
                "summary": "Get resource audit logs",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource name",
                        "name": "resource",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "resource_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/auth/login": {
            "post": {
                "description": "Autentica un usuario y retorna tokens",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Iniciar sesión",
                "parameters": [
                    {
                        "description": "Credenciales",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/LoginDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "Credenciales inválidas",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/me": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene información del usuario autenticado",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Usuario actual",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserInfo"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/refresh": {
            "post": {
                "description": "Genera un nuevo access token usando el refresh token",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Renovar token",
                "parameters": [
                    {
                        "description": "Refresh token",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/RefreshDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "Token inválido",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/register": {
            "post": {
                "description": "Crea una nueva cuenta de usuario",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Registrar usuario",
                "parameters": [
                    {
                        "description": "Datos de registro",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/RegisterDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "409": {
                        "description": "Email ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin/notifications"
                ],
                "summary": "List my notifications (staff)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Skip",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_notifications.PaginatedStaffNotificationsResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications/read-all": {
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin/notifications"
                ],
                "summary": "Mark all notifications as read (staff)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications/unread-count": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin/notifications"
                ],
                "summary": "Unread notification count (staff)",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_notifications.UnreadCountResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/notifications/{id}/read": {
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "admin/notifications"
                ],
                "summary": "Mark notification as read (staff)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Notification ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/owners": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "owners"
                ],
                "summary": "List owners",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Skip",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_owners.PaginatedOwnersResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/owners/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "owners"
                ],
                "summary": "Get owner by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Owner ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_owners.OwnerResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "owners"
                ],
                "summary": "Delete owner",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Owner ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/patients": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "patients"
                ],
                "summary": "List patients",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Skip",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.PaginatedPatientsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "patients"
                ],
                "summary": "Create patient",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Patient data",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.CreatePatientDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.PatientResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/patients/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "patients"
                ],
                "summary": "Get patient by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Patient ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.PatientResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "patients"
                ],
                "summary": "Delete patient",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Patient ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "patients"
                ],
                "summary": "Update patient",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Patient ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Update data",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.UpdatePatientDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.PatientResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/payments": {
            "post": {
                "description": "Registra un nuevo pago en el sistema",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "payments"
                ],
                "summary": "Crear pago",
                "parameters": [
                    {
                        "description": "Datos del pago",
                        "name": "payment",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreatePaymentDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/PaymentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/payments/{id}": {
            "get": {
                "description": "Obtiene un pago por ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "payments"
                ],
                "summary": "Obtener pago",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Payment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaymentResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/permissions": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de permisos",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Listar permisos",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedPermissionsResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo permiso (combinación recurso + acción)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Crear permiso",
                "parameters": [
                    {
                        "description": "Datos del permiso",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreatePermissionDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PermissionResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Permiso ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/permissions/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un permiso por su ID con el recurso poblado",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Obtener permiso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Permission ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PermissionResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un permiso por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Eliminar permiso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Permission ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza la acción de un permiso existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Actualizar permiso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Permission ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdatePermissionDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PermissionResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/plans": {
            "get": {
                "description": "Obtiene todos los planes (admin)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Listar planes",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/PlanResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Crea un nuevo plan de suscripción",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Crear plan",
                "parameters": [
                    {
                        "description": "Datos del plan",
                        "name": "plan",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreatePlanDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/PlanResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/plans/visible": {
            "get": {
                "description": "Obtiene solo los planes visibles (público)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Listar planes visibles",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/PlanResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/plans/{id}": {
            "get": {
                "description": "Obtiene un plan por ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Obtener plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Plan ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PlanResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Elimina un plan",
                "tags": [
                    "plans"
                ],
                "summary": "Eliminar plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Plan ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "description": "Actualiza un plan existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Actualizar plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Plan ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "plan",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdatePlanDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PlanResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/resources": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de recursos",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Listar recursos",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedResourcesResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo recurso del sistema (debe coincidir con el segmento de ruta)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Crear recurso",
                "parameters": [
                    {
                        "description": "Datos del recurso",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateResourceDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ResourceResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Nombre ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/resources/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un recurso por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Obtener recurso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ResourceResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un recurso por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Eliminar recurso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza un recurso existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Actualizar recurso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateResourceDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ResourceResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/roles": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de roles con permisos y recursos poblados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Listar roles",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedRolesResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo rol con permisos y recursos asignados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Crear rol",
                "parameters": [
                    {
                        "description": "Datos del rol",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateRoleDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RoleResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Nombre ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/roles/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un rol por su ID con permisos y recursos poblados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Obtener rol",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Role ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RoleResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un rol por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Eliminar rol",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Role ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza un rol, sus permisos y/o recursos asignados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Actualizar rol",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Role ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateRoleDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RoleResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/species": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "species"
                ],
                "summary": "List species",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/internal_modules_patients.SpeciesResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Finds an exact/similar match or creates a new species. Returns 409 with suggestions if ambiguous.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "species"
                ],
                "summary": "Resolve or create species",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "Species name",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.ResolveSpeciesDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.SpeciesResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/tenants": {
            "get": {
                "description": "Obtiene una lista de tenants",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Listar tenants",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/TenantResponse"
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Crea un nuevo tenant en el sistema",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Crear tenant",
                "parameters": [
                    {
                        "description": "Datos del tenant",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateTenantDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TenantResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/tenants/{id}": {
            "get": {
                "description": "Obtiene un tenant por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Obtener tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TenantResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Elimina un tenant por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Eliminar tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "description": "Actualiza un tenant existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Actualizar tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateTenantDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TenantResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/tenants/{id}/subscribe": {
            "post": {
                "description": "Crea un payment link para que el tenant pague y se suscriba al plan",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Suscribir tenant a un plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos de suscripción",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/SubscribeDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/SubscribeResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/tenants/{tenant_id}/payments": {
            "get": {
                "description": "Obtiene el historial de pagos de un tenant",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "payments"
                ],
                "summary": "Historial de pagos de un tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "tenant_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Límite de resultados",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/PaymentResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/users": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de usuarios",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Listar usuarios",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedUsersResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo usuario en el sistema",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Crear usuario",
                "parameters": [
                    {
                        "description": "Datos del usuario",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateUserDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Email ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/users/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un usuario por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Obtener usuario",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un usuario por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Eliminar usuario",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza un usuario existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Actualizar usuario",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateUserDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/{provider}": {
            "post": {
                "description": "Endpoint para recibir webhooks de proveedores de pago",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "webhooks"
                ],
                "summary": "Procesar webhook de pago",
                "parameters": [
                    {
                        "enum": [
                            "wompi",
                            "stripe"
                        ],
                        "type": "string",
                        "description": "Provider name",
                        "name": "provider",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Check the health status of all components",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_health.HealthReport"
                        }
                    },
                    "503": {
                        "description": "Service Unavailable",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_health.HealthReport"
                        }
                    }
                }
            }
        },
        "/mobile/appointments": {
            "get": {
                "security": [
                    {
                        "MobileBearerAuth": []
                    }
                ],
                "description": "Get appointments for the authenticated owner",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile-appointments"
                ],
                "summary": "Get owner appointments",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Page number",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 20,
                        "description": "Items per page",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.PaginatedAppointmentsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/mobile/appointments/request": {
            "post": {
                "security": [
                    {
                        "MobileBearerAuth": []
                    }
                ],
                "description": "Request a new appointment from mobile app",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile-appointments"
                ],
                "summary": "Request appointment",
                "parameters": [
                    {
                        "description": "Appointment request data",
                        "name": "appointment",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.MobileAppointmentRequestDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/mobile/appointments/{id}": {
            "get": {
                "security": [
                    {
                        "MobileBearerAuth": []
                    }
                ],
                "description": "Get appointment details for the authenticated owner",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile-appointments"
                ],
                "summary": "Get owner appointment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "boolean",
                        "description": "Populate related data",
                        "name": "populate",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/mobile/appointments/{id}/cancel": {
            "patch": {
                "security": [
                    {
                        "MobileBearerAuth": []
                    }
                ],
                "description": "Cancel an appointment from mobile app",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile-appointments"
                ],
                "summary": "Cancel appointment",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Appointment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Cancellation reason",
                        "name": "cancel",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentCancelDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/mobile/auth/login": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/auth"
                ],
                "summary": "Login (owner)",
                "parameters": [
                    {
                        "description": "Credentials",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.LoginDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.TokenResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/auth/me": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/auth"
                ],
                "summary": "Get current owner",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.OwnerInfo"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/auth/refresh": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/auth"
                ],
                "summary": "Refresh token (owner)",
                "parameters": [
                    {
                        "description": "Refresh token",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.RefreshDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.TokenResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/auth/register": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/auth"
                ],
                "summary": "Register (owner)",
                "parameters": [
                    {
                        "description": "Registration data",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.RegisterDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_mobile_auth.TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/notifications": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/notifications"
                ],
                "summary": "List my notifications",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Skip",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_notifications.PaginatedNotificationsResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/notifications/read-all": {
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/notifications"
                ],
                "summary": "Mark all notifications as read",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/notifications/unread-count": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/notifications"
                ],
                "summary": "Unread notification count",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_notifications.UnreadCountResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/notifications/{id}/read": {
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/notifications"
                ],
                "summary": "Mark notification as read",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Notification ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/owners/me": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/owners"
                ],
                "summary": "Get my profile",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_owners.OwnerResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/owners"
                ],
                "summary": "Update my profile",
                "parameters": [
                    {
                        "description": "Profile data",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_owners.UpdateOwnerDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_owners.OwnerResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/owners/me/push-tokens": {
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/owners"
                ],
                "summary": "Register push token",
                "parameters": [
                    {
                        "description": "Push token",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_modules_owners.RegisterPushTokenDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/owners/me/push-tokens/{token}": {
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/owners"
                ],
                "summary": "Remove push token",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Push token value",
                        "name": "token",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/patients": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/patients"
                ],
                "summary": "List my patients",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Skip",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.PaginatedPatientsResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/mobile/patients/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "mobile/patients"
                ],
                "summary": "Get my patient by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "X-Tenant-ID",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Patient ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_modules_patients.PatientResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/ready": {
            "get": {
                "description": "Check if the service is ready to accept traffic",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Readiness check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "503": {
                        "description": "Service Unavailable",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "PaginationInfo": {
            "type": "object",
            "properties": {
                "limit": {
                    "description": "Límite de registros por página",
                    "type": "integer",
                    "example": 10
                },
                "skip": {
                    "description": "Registros saltados",
                    "type": "integer",
                    "example": 0
                },
                "total": {
                    "description": "Total de registros",
                    "type": "integer",
                    "example": 100
                },
                "total_pages": {
                    "description": "Total de páginas",
                    "type": "integer",
                    "example": 10
                }
            }
        },
        "FieldError": {
            "type": "object",
            "properties": {
                "field": {
                    "description": "Nombre del campo con error",
                    "type": "string",
                    "example": "email"
                },
                "message": {
                    "description": "Mensaje de error",
                    "type": "string",
                    "example": "must be a valid email"
                }
            }
        },
        "ValidationError": {
            "type": "object",
            "properties": {
                "errors": {
                    "description": "Lista de errores por campo",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/FieldError"
                    }
                }
            }
        },
        "internal_modules_appointments.AppointmentCancelDTO": {
            "type": "object",
            "required": [
                "reason"
            ],
            "properties": {
                "reason": {
                    "type": "string",
                    "maxLength": 200,
                    "example": "Ya no necesito la cita"
                }
            }
        },
        "internal_modules_appointments.AppointmentResponse": {
            "type": "object",
            "properties": {
                "cancel_reason": {
                    "type": "string"
                },
                "cancelled_at": {
                    "type": "string"
                },
                "completed_at": {
                    "type": "string",
                    "example": "2024-01-15T11:05:00Z"
                },
                "confirmed_at": {
                    "type": "string",
                    "example": "2024-01-14T15:00:00Z"
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-10T14:20:00Z"
                },
                "duration": {
                    "type": "integer",
                    "example": 30
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "notes": {
                    "type": "string",
                    "example": "First visit"
                },
                "owner": {
                    "$ref": "#/definitions/internal_modules_appointments.OwnerSummary"
                },
                "owner_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439013"
                },
                "owner_notes": {
                    "type": "string",
                    "example": "Patient anxious"
                },
                "patient": {
                    "description": "Populated data (will be filled when populate=true)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/internal_modules_appointments.PatientSummary"
                        }
                    ]
                },
                "patient_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439012"
                },
                "priority": {
                    "type": "string",
                    "example": "normal"
                },
                "reason": {
                    "type": "string",
                    "example": "Annual checkup"
                },
                "scheduled_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "started_at": {
                    "type": "string",
                    "example": "2024-01-15T10:35:00Z"
                },
                "status": {
                    "type": "string",
                    "example": "scheduled"
                },
                "type": {
                    "type": "string",
                    "example": "consultation"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-14T15:00:00Z"
                },
                "veterinarian": {
                    "$ref": "#/definitions/internal_modules_appointments.VeterinarianSummary"
                },
                "veterinarian_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439014"
                }
            }
        },
        "internal_modules_appointments.AppointmentStatusTransitionResponse": {
            "type": "object",
            "properties": {
                "appointment_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439012"
                },
                "changed_by": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439013"
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-14T15:00:00Z"
                },
                "from_status": {
                    "type": "string",
                    "example": "scheduled"
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "reason": {
                    "type": "string",
                    "example": "Confirmed by staff"
                },
                "to_status": {
                    "type": "string",
                    "example": "confirmed"
                }
            }
        },
        "internal_modules_appointments.AvailabilityResponse": {
            "type": "object",
            "properties": {
                "available": {
                    "type": "boolean",
                    "example": true
                },
                "conflict_times": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "[\"10:30-11:00\"",
                        " \"14:00-14:30\"]"
                    ]
                },
                "suggestions": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "[\"11:00\"",
                        " \"15:00\"",
                        " \"16:30\"]"
                    ]
                }
            }
        },
        "internal_modules_appointments.CalendarViewResponse": {
            "type": "object",
            "properties": {
                "appointments": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                    }
                },
                "date": {
                    "type": "string",
                    "example": "2024-01-15"
                }
            }
        },
        "internal_modules_appointments.CreateAppointmentDTO": {
            "type": "object",
            "required": [
                "duration",
                "patient_id",
                "reason",
                "scheduled_at",
                "type",
                "veterinarian_id"
            ],
            "properties": {
                "duration": {
                    "type": "integer",
                    "maximum": 480,
                    "minimum": 15,
                    "example": 30
                },
                "notes": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "First visit for this patient"
                },
                "patient_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "priority": {
                    "type": "string",
                    "enum": [
                        "low",
                        "normal",
                        "high",
                        "emergency"
                    ],
                    "example": "normal"
                },
                "reason": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "Annual checkup"
                },
                "scheduled_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "consultation",
                        "surgery",
                        "vaccination",
                        "emergency",
                        "checkup",
                        "grooming"
                    ],
                    "example": "consultation"
                },
                "veterinarian_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439012"
                }
            }
        },
        "internal_modules_appointments.MobileAppointmentRequestDTO": {
            "type": "object",
            "required": [
                "patient_id",
                "reason",
                "scheduled_at",
                "type"
            ],
            "properties": {
                "owner_notes": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "Additional information"
                },
                "patient_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "priority": {
                    "type": "string",
                    "enum": [
                        "low",
                        "normal",
                        "high",
                        "emergency"
                    ],
                    "example": "normal"
                },
                "reason": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "My pet is not feeling well"
                },
                "scheduled_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "consultation",
                        "surgery",
                        "vaccination",
                        "emergency",
                        "checkup",
                        "grooming"
                    ],
                    "example": "consultation"
                }
            }
        },
        "internal_modules_appointments.OwnerSummary": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                }
            }
        },
        "internal_modules_appointments.PaginatedAppointmentsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_appointments.AppointmentResponse"
                    }
                },
                "pagination": {
                    "$ref": "#/definitions/PaginationInfo"
                }
            }
        },
        "internal_modules_appointments.PatientSummary": {
            "type": "object",
            "properties": {
                "breed": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "species": {
                    "type": "string"
                }
            }
        },
        "internal_modules_appointments.UpdateAppointmentDTO": {
            "type": "object",
            "properties": {
                "duration": {
                    "type": "integer",
                    "maximum": 480,
                    "minimum": 15,
                    "example": 45
                },
                "notes": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "Updated notes"
                },
                "priority": {
                    "type": "string",
                    "enum": [
                        "low",
                        "normal",
                        "high",
                        "emergency"
                    ],
                    "example": "high"
                },
                "reason": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "Updated reason"
                },
                "scheduled_at": {
                    "type": "string",
                    "example": "2024-01-15T11:00:00Z"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "consultation",
                        "surgery",
                        "vaccination",
                        "emergency",
                        "checkup",
                        "grooming"
                    ],
                    "example": "surgery"
                }
            }
        },
        "internal_modules_appointments.UpdateStatusDTO": {
            "type": "object",
            "required": [
                "status"
            ],
            "properties": {
                "reason": {
                    "type": "string",
                    "maxLength": 200,
                    "example": "Patient confirmed by phone"
                },
                "status": {
                    "type": "string",
                    "enum": [
                        "scheduled",
                        "confirmed",
                        "in_progress",
                        "completed",
                        "cancelled",
                        "no_show"
                    ],
                    "example": "confirmed"
                }
            }
        },
        "internal_modules_appointments.VeterinarianSummary": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                }
            }
        },
        "LoginDTO": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "password": {
                    "description": "Contraseña",
                    "type": "string",
                    "example": "secret123"
                }
            }
        },
        "RefreshDTO": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "description": "Refresh token",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                }
            }
        },
        "RegisterDTO": {
            "type": "object",
            "required": [
                "email",
                "name",
                "password"
            ],
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "minLength": 2,
                    "example": "John Doe"
                },
                "password": {
                    "description": "Contraseña (mínimo 6 caracteres)",
                    "type": "string",
                    "minLength": 6,
                    "example": "secret123"
                }
            }
        },
        "TokenResponse": {
            "type": "object",
            "properties": {
                "access_token": {
                    "description": "Access token JWT",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                },
                "expires_in": {
                    "description": "Tiempo de expiración en segundos",
                    "type": "integer",
                    "example": 900
                },
                "refresh_token": {
                    "description": "Refresh token JWT",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                }
            }
        },
        "UserInfo": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "id": {
                    "description": "ID del usuario",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "example": "John Doe"
                }
            }
        },
        "internal_modules_health.ComponentHealth": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                },
                "latency_ms": {
                    "type": "integer"
                },
                "status": {
                    "$ref": "#/definitions/internal_modules_health.HealthStatus"
                }
            }
        },
        "internal_modules_health.HealthReport": {
            "type": "object",
            "properties": {
                "components": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/internal_modules_health.ComponentHealth"
                    }
                },
                "environment": {
                    "type": "string"
                },
                "status": {
                    "$ref": "#/definitions/internal_modules_health.HealthStatus"
                },
                "timestamp": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "internal_modules_health.HealthStatus": {
            "type": "string",
            "enum": [
                "healthy",
                "unhealthy",
                "degraded"
            ],
            "x-enum-varnames": [
                "HealthStatusHealthy",
                "HealthStatusUnhealthy",
                "HealthStatusDegraded"
            ]
        },
        "internal_modules_mobile_auth.LoginDTO": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "juan@example.com"
                },
                "password": {
                    "type": "string",
                    "example": "secret123"
                }
            }
        },
        "internal_modules_mobile_auth.OwnerInfo": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                }
            }
        },
        "internal_modules_mobile_auth.RefreshDTO": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "type": "string",
                    "example": "eyJhbGci..."
                }
            }
        },
        "internal_modules_mobile_auth.RegisterDTO": {
            "type": "object",
            "required": [
                "email",
                "name",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "juan@example.com"
                },
                "name": {
                    "type": "string",
                    "minLength": 2,
                    "example": "Juan Pérez"
                },
                "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "secret123"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                }
            }
        },
        "internal_modules_mobile_auth.TokenResponse": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string"
                },
                "expires_in": {
                    "type": "integer"
                },
                "refresh_token": {
                    "type": "string"
                }
            }
        },
        "internal_modules_notifications.NotificationResponse": {
            "type": "object",
            "properties": {
                "body": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "id": {
                    "type": "string"
                },
                "push_sent": {
                    "type": "boolean"
                },
                "read": {
                    "type": "boolean"
                },
                "read_at": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/internal_modules_notifications.NotificationType"
                }
            }
        },
        "internal_modules_notifications.NotificationType": {
            "type": "string",
            "enum": [
                "appointment_confirmed",
                "appointment_cancelled",
                "appointment_reminder",
                "vaccination_due",
                "medical_record_updated",
                "prescription_ready",
                "general"
            ],
            "x-enum-varnames": [
                "TypeAppointmentConfirmed",
                "TypeAppointmentCancelled",
                "TypeAppointmentReminder",
                "TypeVaccinationDue",
                "TypeMedicalRecordUpdated",
                "TypePrescriptionReady",
                "TypeGeneral"
            ]
        },
        "internal_modules_notifications.PaginatedNotificationsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_notifications.NotificationResponse"
                    }
                },
                "pagination": {
                    "$ref": "#/definitions/PaginationInfo"
                }
            }
        },
        "internal_modules_notifications.PaginatedStaffNotificationsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_notifications.StaffNotificationResponse"
                    }
                },
                "pagination": {
                    "$ref": "#/definitions/PaginationInfo"
                }
            }
        },
        "internal_modules_notifications.StaffNotificationResponse": {
            "type": "object",
            "properties": {
                "body": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "id": {
                    "type": "string"
                },
                "read": {
                    "type": "boolean"
                },
                "read_at": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/internal_modules_notifications.StaffNotificationType"
                }
            }
        },
        "internal_modules_notifications.StaffNotificationType": {
            "type": "string",
            "enum": [
                "new_appointment",
                "payment_received",
                "new_patient",
                "system_alert",
                "general"
            ],
            "x-enum-varnames": [
                "TypeStaffNewAppointment",
                "TypeStaffPaymentReceived",
                "TypeStaffNewPatient",
                "TypeStaffSystemAlert",
                "TypeStaffGeneral"
            ]
        },
        "internal_modules_notifications.UnreadCountResponse": {
            "type": "object",
            "properties": {
                "count": {
                    "type": "integer"
                }
            }
        },
        "internal_modules_owners.OwnerResponse": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "avatar_url": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                },
                "push_tokens": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_owners.PushTokenResponse"
                    }
                },
                "tenant_ids": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "internal_modules_owners.PaginatedOwnersResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_owners.OwnerResponse"
                    }
                },
                "pagination": {
                    "$ref": "#/definitions/PaginationInfo"
                }
            }
        },
        "internal_modules_owners.PushTokenResponse": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "platform": {
                    "type": "string"
                },
                "token": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "internal_modules_owners.RegisterPushTokenDTO": {
            "type": "object",
            "required": [
                "platform",
                "token"
            ],
            "properties": {
                "platform": {
                    "type": "string",
                    "enum": [
                        "ios",
                        "android"
                    ],
                    "example": "android"
                },
                "token": {
                    "type": "string",
                    "example": "fcm-token-abc123"
                }
            }
        },
        "internal_modules_owners.UpdateOwnerDTO": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 10 # 20-30, Medellín"
                },
                "avatar_url": {
                    "type": "string",
                    "example": "https://cdn.example.com/avatar.jpg"
                },
                "name": {
                    "type": "string",
                    "example": "Juan Pérez"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                }
            }
        },
        "internal_modules_patients.CreatePatientDTO": {
            "type": "object",
            "required": [
                "gender",
                "name",
                "owner_id",
                "species_id",
                "weight"
            ],
            "properties": {
                "avatar_url": {
                    "type": "string"
                },
                "birth_date": {
                    "type": "string"
                },
                "breed": {
                    "type": "string",
                    "example": "Labrador"
                },
                "color": {
                    "type": "string",
                    "example": "Dorado"
                },
                "gender": {
                    "enum": [
                        "male",
                        "female",
                        "unknown"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/internal_modules_patients.Gender"
                        }
                    ]
                },
                "microchip": {
                    "type": "string",
                    "example": "985112000123456"
                },
                "name": {
                    "type": "string",
                    "example": "Max"
                },
                "notes": {
                    "type": "string"
                },
                "owner_id": {
                    "type": "string"
                },
                "species_id": {
                    "type": "string"
                },
                "sterilized": {
                    "type": "boolean"
                },
                "weight": {
                    "type": "number",
                    "example": 12.5
                }
            }
        },
        "internal_modules_patients.Gender": {
            "type": "string",
            "enum": [
                "male",
                "female",
                "unknown"
            ],
            "x-enum-varnames": [
                "GenderMale",
                "GenderFemale",
                "GenderUnknown"
            ]
        },
        "internal_modules_patients.PaginatedPatientsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_modules_patients.PatientResponse"
                    }
                },
                "pagination": {
                    "$ref": "#/definitions/PaginationInfo"
                }
            }
        },
        "internal_modules_patients.PatientResponse": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "avatar_url": {
                    "type": "string"
                },
                "birth_date": {
                    "type": "string"
                },
                "breed": {
                    "type": "string"
                },
                "color": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "gender": {
                    "$ref": "#/definitions/internal_modules_patients.Gender"
                },
                "id": {
                    "type": "string"
                },
                "microchip": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "notes": {
                    "type": "string"
                },
                "owner_id": {
                    "type": "string"
                },
                "species_id": {
                    "type": "string"
                },
                "sterilized": {
                    "type": "boolean"
                },
                "tenant_id": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "weight": {
                    "type": "number"
                }
            }
        },
        "internal_modules_patients.ResolveSpeciesDTO": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "example": "Canino"
                }
            }
        },
        "internal_modules_patients.SpeciesResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "normalized_name": {
                    "type": "string"
                },
                "tenant_id": {
                    "type": "string"
                }
            }
        },
        "internal_modules_patients.UpdatePatientDTO": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "avatar_url": {
                    "type": "string"
                },
                "birth_date": {
                    "type": "string"
                },
                "breed": {
                    "type": "string"
                },
                "color": {
                    "type": "string"
                },
                "gender": {
                    "enum": [
                        "male",
                        "female",
                        "unknown"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/internal_modules_patients.Gender"
                        }
                    ]
                },
                "microchip": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "notes": {
                    "type": "string"
                },
                "species_id": {
                    "type": "string"
                },
                "sterilized": {
                    "type": "boolean"
                },
                "weight": {
                    "type": "number"
                }
            }
        },
        "CreatePaymentDTO": {
            "type": "object",
            "required": [
                "amount",
                "concept",
                "currency",
                "payment_method",
                "status",
                "tenant_id"
            ],
            "properties": {
                "amount": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 4900
                },
                "concept": {
                    "type": "string",
                    "example": "Pago mensual - Plan Pro"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "external_transaction_id": {
                    "type": "string",
                    "example": "wompi_tx_123456"
                },
                "failure_reason": {
                    "type": "string",
                    "example": "Fondos insuficientes"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "payment_method": {
                    "type": "string",
                    "example": "wompi"
                },
                "period_end": {
                    "type": "string",
                    "example": "2024-02-01T00:00:00Z"
                },
                "period_start": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "plan_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "processed_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaymentStatus"
                        }
                    ],
                    "example": "completed"
                },
                "tenant_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaymentResponse": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "integer",
                    "example": 4900
                },
                "concept": {
                    "type": "string",
                    "example": "Pago mensual - Plan Pro"
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "external_transaction_id": {
                    "type": "string",
                    "example": "wompi_tx_123456"
                },
                "failure_reason": {
                    "type": "string",
                    "example": "Fondos insuficientes"
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "payment_method": {
                    "type": "string",
                    "example": "wompi"
                },
                "period_end": {
                    "type": "string",
                    "example": "2024-02-01T00:00:00Z"
                },
                "period_start": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "plan_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "processed_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaymentStatus"
                        }
                    ],
                    "example": "completed"
                },
                "tenant_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                }
            }
        },
        "PaymentStatus": {
            "type": "string",
            "enum": [
                "pending",
                "completed",
                "failed",
                "refunded"
            ],
            "x-enum-varnames": [
                "PaymentPending",
                "PaymentCompleted",
                "PaymentFailed",
                "PaymentRefunded"
            ]
        },
        "Action": {
            "type": "string",
            "enum": [
                "get",
                "post",
                "put",
                "patch",
                "delete"
            ],
            "x-enum-varnames": [
                "ActionGet",
                "ActionPost",
                "ActionPut",
                "ActionPatch",
                "ActionDelete"
            ]
        },
        "CreatePermissionDTO": {
            "type": "object",
            "required": [
                "action",
                "resource_id",
                "tenant_id"
            ],
            "properties": {
                "action": {
                    "description": "Acción permitida: get, post, put, patch, delete",
                    "type": "string",
                    "example": "get"
                },
                "resource_id": {
                    "description": "ID del recurso asociado",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "tenant_id": {
                    "description": "ID del tenant al que pertenece",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaginatedPermissionsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de permisos",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/PermissionResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "PermissionResponse": {
            "type": "object",
            "properties": {
                "action": {
                    "description": "Acción permitida",
                    "allOf": [
                        {
                            "$ref": "#/definitions/Action"
                        }
                    ],
                    "example": "get"
                },
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string"
                },
                "id": {
                    "description": "ID único del permiso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "resource": {
                    "description": "Recurso asociado (poblado)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ResourceRef"
                        }
                    ]
                },
                "tenant_id": {
                    "description": "ID del tenant",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string"
                }
            }
        },
        "ResourceRef": {
            "type": "object",
            "properties": {
                "id": {
                    "description": "ID del recurso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                }
            }
        },
        "UpdatePermissionDTO": {
            "type": "object",
            "properties": {
                "action": {
                    "description": "Acción permitida: get, post, put, patch, delete",
                    "type": "string",
                    "example": "post"
                }
            }
        },
        "CreatePlanDTO": {
            "type": "object",
            "required": [
                "annual_price",
                "currency",
                "max_branches",
                "max_users",
                "monthly_price",
                "name",
                "storage_limit_gb"
            ],
            "properties": {
                "annual_price": {
                    "type": "number",
                    "minimum": 0,
                    "example": 490
                },
                "currency": {
                    "type": "string",
                    "example": "USD"
                },
                "description": {
                    "type": "string",
                    "example": "Plan profesional con todas las funcionalidades"
                },
                "features": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "Gestión de pacientes",
                        "Historial clínico",
                        "Facturación"
                    ]
                },
                "is_visible": {
                    "type": "boolean",
                    "example": true
                },
                "max_branches": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 3
                },
                "max_users": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 10
                },
                "monthly_price": {
                    "type": "number",
                    "minimum": 0,
                    "example": 49
                },
                "name": {
                    "type": "string",
                    "example": "Pro Plan"
                },
                "storage_limit_gb": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 10
                }
            }
        },
        "PlanResponse": {
            "type": "object",
            "properties": {
                "annual_price": {
                    "type": "number",
                    "example": 490
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "currency": {
                    "type": "string",
                    "example": "USD"
                },
                "description": {
                    "type": "string",
                    "example": "Plan profesional"
                },
                "features": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "Gestión de pacientes",
                        "Historial clínico"
                    ]
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "is_visible": {
                    "type": "boolean",
                    "example": true
                },
                "max_branches": {
                    "type": "integer",
                    "example": 3
                },
                "max_users": {
                    "type": "integer",
                    "example": 10
                },
                "monthly_price": {
                    "type": "number",
                    "example": 49
                },
                "name": {
                    "type": "string",
                    "example": "Pro Plan"
                },
                "storage_limit_gb": {
                    "type": "integer",
                    "example": 10
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                }
            }
        },
        "UpdatePlanDTO": {
            "type": "object",
            "properties": {
                "annual_price": {
                    "type": "number",
                    "example": 490
                },
                "description": {
                    "type": "string",
                    "example": "Plan profesional"
                },
                "features": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "is_visible": {
                    "type": "boolean"
                },
                "max_branches": {
                    "type": "integer",
                    "example": 3
                },
                "max_users": {
                    "type": "integer",
                    "example": 10
                },
                "monthly_price": {
                    "type": "number",
                    "example": 49
                },
                "name": {
                    "type": "string",
                    "example": "Pro Plan"
                },
                "storage_limit_gb": {
                    "type": "integer",
                    "example": 10
                }
            }
        },
        "CreateResourceDTO": {
            "type": "object",
            "required": [
                "name",
                "tenant_id"
            ],
            "properties": {
                "description": {
                    "description": "Descripción del recurso",
                    "type": "string",
                    "example": "Módulo de citas veterinarias"
                },
                "name": {
                    "description": "Nombre del recurso (debe coincidir con el segmento de ruta, ej: appointments)",
                    "type": "string",
                    "minLength": 2,
                    "example": "appointments"
                },
                "tenant_id": {
                    "description": "ID del tenant al que pertenece",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaginatedResourcesResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de recursos",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ResourceResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "ResourceResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string"
                },
                "description": {
                    "description": "Descripción del recurso",
                    "type": "string",
                    "example": "Módulo de citas veterinarias"
                },
                "id": {
                    "description": "ID único del recurso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                },
                "tenant_id": {
                    "description": "ID del tenant",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string"
                }
            }
        },
        "UpdateResourceDTO": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "Descripción del recurso",
                    "type": "string",
                    "example": "Módulo de citas veterinarias"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                }
            }
        },
        "CreateRoleDTO": {
            "type": "object",
            "required": [
                "name",
                "tenant_id"
            ],
            "properties": {
                "description": {
                    "description": "Descripción del rol",
                    "type": "string",
                    "example": "Rol para veterinarios"
                },
                "name": {
                    "description": "Nombre del rol",
                    "type": "string",
                    "minLength": 2,
                    "example": "veterinary"
                },
                "permissions_ids": {
                    "description": "IDs de permisos asignados (pares recurso+acción)",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "507f1f77bcf86cd799439011"
                    ]
                },
                "resources_ids": {
                    "description": "IDs de recursos accesibles por este rol",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "507f1f77bcf86cd799439011"
                    ]
                },
                "tenant_id": {
                    "description": "ID del tenant al que pertenece",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaginatedRolesResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de roles",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/RoleResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "PermissionRef": {
            "type": "object",
            "properties": {
                "action": {
                    "description": "Acción permitida",
                    "type": "string",
                    "example": "get"
                },
                "id": {
                    "description": "ID del permiso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "resource": {
                    "description": "Recurso asociado",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ResourceRef"
                        }
                    ]
                }
            }
        },
        "ResourceRef": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "Descripción",
                    "type": "string",
                    "example": "Módulo de citas"
                },
                "id": {
                    "description": "ID del recurso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                }
            }
        },
        "RoleResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string"
                },
                "description": {
                    "description": "Descripción del rol",
                    "type": "string",
                    "example": "Rol para veterinarios"
                },
                "id": {
                    "description": "ID único del rol",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del rol",
                    "type": "string",
                    "example": "veterinary"
                },
                "permissions": {
                    "description": "Permisos poblados (recurso + acción)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/PermissionRef"
                    }
                },
                "resources": {
                    "description": "Recursos accesibles poblados",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ResourceRef"
                    }
                },
                "tenant_id": {
                    "description": "ID del tenant",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string"
                }
            }
        },
        "UpdateRoleDTO": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "Descripción del rol",
                    "type": "string",
                    "example": "Rol para veterinarios"
                },
                "name": {
                    "description": "Nombre del rol",
                    "type": "string",
                    "example": "veterinary"
                },
                "permissions_ids": {
                    "description": "IDs de permisos asignados",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "resources_ids": {
                    "description": "IDs de recursos accesibles",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "CreateTenantDTO": {
            "type": "object",
            "required": [
                "address",
                "commercial_name",
                "country",
                "currency",
                "domain",
                "email",
                "identification_number",
                "industry",
                "name",
                "owner_id",
                "phone",
                "timezone"
            ],
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 123 #45-67"
                },
                "commercial_name": {
                    "type": "string",
                    "example": "Vet Vida"
                },
                "country": {
                    "type": "string",
                    "example": "Colombia"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "domain": {
                    "description": "Técnico",
                    "type": "string",
                    "example": "vetvida"
                },
                "email": {
                    "description": "Contacto",
                    "type": "string",
                    "example": "contacto@vetvida.com"
                },
                "identification_number": {
                    "type": "string",
                    "example": "900123456-7"
                },
                "industry": {
                    "type": "string",
                    "example": "veterinary"
                },
                "logo": {
                    "type": "string",
                    "example": "https://example.com/logo.png"
                },
                "name": {
                    "description": "Información Básica",
                    "type": "string",
                    "minLength": 2,
                    "example": "Clínica Vet Vida"
                },
                "owner_id": {
                    "description": "ID del propietario (referencia a users)",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                },
                "secondary_phone": {
                    "type": "string",
                    "example": "+57 300 987 6543"
                },
                "timezone": {
                    "type": "string",
                    "example": "America/Bogota"
                }
            }
        },
        "SubscribeDTO": {
            "type": "object",
            "required": [
                "billing_period",
                "plan_id"
            ],
            "properties": {
                "billing_period": {
                    "type": "string",
                    "enum": [
                        "monthly",
                        "annual"
                    ],
                    "example": "monthly"
                },
                "plan_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "SubscribeResponse": {
            "type": "object",
            "properties": {
                "payment_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "payment_link_url": {
                    "type": "string",
                    "example": "https://checkout.wompi.co/l/abc123"
                }
            }
        },
        "TenantResponse": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 123 #45-67"
                },
                "commercial_name": {
                    "type": "string",
                    "example": "Vet Vida"
                },
                "country": {
                    "type": "string",
                    "example": "Colombia"
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "domain": {
                    "type": "string",
                    "example": "vetvida"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@vetvida.com"
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "identification_number": {
                    "type": "string",
                    "example": "900123456-7"
                },
                "industry": {
                    "type": "string",
                    "example": "veterinary"
                },
                "logo": {
                    "type": "string",
                    "example": "https://example.com/logo.png"
                },
                "name": {
                    "type": "string",
                    "example": "Clínica Vet Vida"
                },
                "owner_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                },
                "secondary_phone": {
                    "type": "string",
                    "example": "+57 300 987 6543"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/TenantStatus"
                        }
                    ],
                    "example": "active"
                },
                "subscription": {
                    "$ref": "#/definitions/TenantSubscriptionResponse"
                },
                "timezone": {
                    "type": "string",
                    "example": "America/Bogota"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "usage": {
                    "$ref": "#/definitions/TenantUsageResponse"
                }
            }
        },
        "TenantStatus": {
            "type": "string",
            "enum": [
                "active",
                "inactive",
                "trial",
                "suspended"
            ],
            "x-enum-varnames": [
                "Active",
                "Inactive",
                "Trial",
                "Suspended"
            ]
        },
        "TenantSubscriptionResponse": {
            "type": "object",
            "properties": {
                "billing_status": {
                    "type": "string"
                },
                "external_subscription_id": {
                    "type": "string"
                },
                "mrr": {
                    "type": "number"
                },
                "payment_provider": {
                    "type": "string"
                },
                "plan_id": {
                    "type": "string"
                },
                "subscription_ends_at": {
                    "type": "string"
                },
                "trial_ends_at": {
                    "type": "string"
                }
            }
        },
        "TenantUsageResponse": {
            "type": "object",
            "properties": {
                "last_reset_date": {
                    "type": "string"
                },
                "storage_limit_mb": {
                    "type": "integer"
                },
                "storage_used_mb": {
                    "type": "integer"
                },
                "users_count": {
                    "type": "integer"
                },
                "users_limit": {
                    "type": "integer"
                }
            }
        },
        "UpdateTenantDTO": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 123 #45-67"
                },
                "commercial_name": {
                    "type": "string",
                    "example": "Vet Vida"
                },
                "country": {
                    "type": "string",
                    "example": "Colombia"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@vetvida.com"
                },
                "identification_number": {
                    "type": "string",
                    "example": "900123456-7"
                },
                "industry": {
                    "type": "string",
                    "example": "veterinary"
                },
                "logo": {
                    "type": "string",
                    "example": "https://example.com/logo.png"
                },
                "name": {
                    "type": "string",
                    "example": "Clínica Vet Vida"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                },
                "secondary_phone": {
                    "type": "string",
                    "example": "+57 300 987 6543"
                },
                "timezone": {
                    "type": "string",
                    "example": "America/Bogota"
                }
            }
        },
        "CreateUserDTO": {
            "type": "object",
            "required": [
                "email",
                "name",
                "password"
            ],
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "minLength": 2,
                    "example": "John Doe"
                },
                "password": {
                    "description": "Contraseña (mínimo 6 caracteres)",
                    "type": "string",
                    "minLength": 6,
                    "example": "secret123"
                }
            }
        },
        "PaginatedUsersResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de usuarios",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/UserResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "UpdateUserDTO": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "jane@example.com"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "example": "Jane Doe"
                }
            }
        },
        "UserResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "id": {
                    "description": "ID único del usuario",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "example": "John Doe"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                }
            }
        }
    },
    "securityDefinitions": {
        "Bearer": {
            "description": "Ingresa el token con el prefijo Bearer: Bearer \u003ctoken\u003e",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}