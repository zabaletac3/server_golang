{
    "swagger": "2.0",
    "info": {
        "description": "Template API con Go + Gin + MongoDBD",
        "title": "Go Server API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "email": "support@example.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api",
    "paths": {
        "/auth/login": {
            "post": {
                "description": "Autentica un usuario y retorna tokens",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Iniciar sesión",
                "parameters": [
                    {
                        "description": "Credenciales",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/LoginDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "Credenciales inválidas",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/auth/me": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene información del usuario autenticado",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Usuario actual",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserInfo"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/auth/refresh": {
            "post": {
                "description": "Genera un nuevo access token usando el refresh token",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Renovar token",
                "parameters": [
                    {
                        "description": "Refresh token",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/RefreshDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "Token inválido",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "Crea una nueva cuenta de usuario",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Registrar usuario",
                "parameters": [
                    {
                        "description": "Datos de registro",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/RegisterDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TokenResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "409": {
                        "description": "Email ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/payments": {
            "post": {
                "description": "Registra un nuevo pago en el sistema",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "payments"
                ],
                "summary": "Crear pago",
                "parameters": [
                    {
                        "description": "Datos del pago",
                        "name": "payment",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreatePaymentDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/PaymentResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/payments/{id}": {
            "get": {
                "description": "Obtiene un pago por ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "payments"
                ],
                "summary": "Obtener pago",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Payment ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaymentResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/permissions": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de permisos",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Listar permisos",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedPermissionsResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo permiso (combinación recurso + acción)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Crear permiso",
                "parameters": [
                    {
                        "description": "Datos del permiso",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreatePermissionDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PermissionResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Permiso ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/permissions/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un permiso por su ID con el recurso poblado",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Obtener permiso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Permission ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PermissionResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un permiso por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Eliminar permiso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Permission ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza la acción de un permiso existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "permissions"
                ],
                "summary": "Actualizar permiso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Permission ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdatePermissionDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PermissionResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/plans": {
            "get": {
                "description": "Obtiene todos los planes (admin)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Listar planes",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/PlanResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Crea un nuevo plan de suscripción",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Crear plan",
                "parameters": [
                    {
                        "description": "Datos del plan",
                        "name": "plan",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreatePlanDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/PlanResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/plans/visible": {
            "get": {
                "description": "Obtiene solo los planes visibles (público)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Listar planes visibles",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/PlanResponse"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/plans/{id}": {
            "get": {
                "description": "Obtiene un plan por ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Obtener plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Plan ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PlanResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Elimina un plan",
                "tags": [
                    "plans"
                ],
                "summary": "Eliminar plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Plan ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "description": "Actualiza un plan existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "plans"
                ],
                "summary": "Actualizar plan",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Plan ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "plan",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdatePlanDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PlanResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/resources": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de recursos",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Listar recursos",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedResourcesResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo recurso del sistema (debe coincidir con el segmento de ruta)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Crear recurso",
                "parameters": [
                    {
                        "description": "Datos del recurso",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateResourceDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ResourceResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Nombre ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/resources/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un recurso por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Obtener recurso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ResourceResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un recurso por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Eliminar recurso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza un recurso existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "resources"
                ],
                "summary": "Actualizar recurso",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Resource ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateResourceDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/ResourceResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/roles": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de roles con permisos y recursos poblados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Listar roles",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedRolesResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo rol con permisos y recursos asignados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Crear rol",
                "parameters": [
                    {
                        "description": "Datos del rol",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateRoleDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RoleResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Nombre ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/roles/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un rol por su ID con permisos y recursos poblados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Obtener rol",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Role ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RoleResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un rol por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Eliminar rol",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Role ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza un rol, sus permisos y/o recursos asignados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "roles"
                ],
                "summary": "Actualizar rol",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Role ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateRoleDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RoleResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/tenants": {
            "get": {
                "description": "Obtiene una lista de tenants",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Listar tenants",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/TenantResponse"
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Crea un nuevo tenant en el sistema",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Crear tenant",
                "parameters": [
                    {
                        "description": "Datos del tenant",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateTenantDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TenantResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/tenants/{id}": {
            "get": {
                "description": "Obtiene un tenant por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Obtener tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TenantResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "description": "Elimina un tenant por su ID (soft delete)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Eliminar tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "description": "Actualiza un tenant existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "tenant"
                ],
                "summary": "Actualizar tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateTenantDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/TenantResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/tenants/{tenant_id}/payments": {
            "get": {
                "description": "Obtiene el historial de pagos de un tenant",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "payments"
                ],
                "summary": "Historial de pagos de un tenant",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tenant ID",
                        "name": "tenant_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Límite de resultados",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/PaymentResponse"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/users": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene una lista paginada de usuarios",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Listar usuarios",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": " ",
                        "name": "skip",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": " ",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PaginatedUsersResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Crea un nuevo usuario en el sistema",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Crear usuario",
                "parameters": [
                    {
                        "description": "Datos del usuario",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateUserDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "409": {
                        "description": "Email ya existe",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Obtiene un usuario por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Obtener usuario",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserResponse"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Elimina un usuario por su ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Eliminar usuario",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "Bearer": []
                    }
                ],
                "description": "Actualiza un usuario existente",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Actualizar usuario",
                "parameters": [
                    {
                        "type": "string",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Datos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/UpdateUserDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/UserResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/ValidationError"
                        }
                    },
                    "401": {
                        "description": "No autorizado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "No encontrado",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/webhooks/{provider}": {
            "post": {
                "description": "Endpoint para recibir webhooks de proveedores de pago",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "webhooks"
                ],
                "summary": "Procesar webhook de pago",
                "parameters": [
                    {
                        "enum": [
                            "wompi",
                            "stripe"
                        ],
                        "type": "string",
                        "description": "Provider name",
                        "name": "provider",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "PaginationInfo": {
            "type": "object",
            "properties": {
                "limit": {
                    "description": "Límite de registros por página",
                    "type": "integer",
                    "example": 10
                },
                "skip": {
                    "description": "Registros saltados",
                    "type": "integer",
                    "example": 0
                },
                "total": {
                    "description": "Total de registros",
                    "type": "integer",
                    "example": 100
                },
                "total_pages": {
                    "description": "Total de páginas",
                    "type": "integer",
                    "example": 10
                }
            }
        },
        "FieldError": {
            "type": "object",
            "properties": {
                "field": {
                    "description": "Nombre del campo con error",
                    "type": "string",
                    "example": "email"
                },
                "message": {
                    "description": "Mensaje de error",
                    "type": "string",
                    "example": "must be a valid email"
                }
            }
        },
        "ValidationError": {
            "type": "object",
            "properties": {
                "errors": {
                    "description": "Lista de errores por campo",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/FieldError"
                    }
                }
            }
        },
        "LoginDTO": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "password": {
                    "description": "Contraseña",
                    "type": "string",
                    "example": "secret123"
                }
            }
        },
        "RefreshDTO": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "description": "Refresh token",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                }
            }
        },
        "RegisterDTO": {
            "type": "object",
            "required": [
                "email",
                "name",
                "password"
            ],
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "minLength": 2,
                    "example": "John Doe"
                },
                "password": {
                    "description": "Contraseña (mínimo 6 caracteres)",
                    "type": "string",
                    "minLength": 6,
                    "example": "secret123"
                }
            }
        },
        "TokenResponse": {
            "type": "object",
            "properties": {
                "access_token": {
                    "description": "Access token JWT",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                },
                "expires_in": {
                    "description": "Tiempo de expiración en segundos",
                    "type": "integer",
                    "example": 900
                },
                "refresh_token": {
                    "description": "Refresh token JWT",
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                }
            }
        },
        "UserInfo": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "id": {
                    "description": "ID del usuario",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "example": "John Doe"
                }
            }
        },
        "CreatePaymentDTO": {
            "type": "object",
            "required": [
                "amount",
                "concept",
                "currency",
                "payment_method",
                "status",
                "tenant_id"
            ],
            "properties": {
                "amount": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 4900
                },
                "concept": {
                    "type": "string",
                    "example": "Pago mensual - Plan Pro"
                },
                "currency": {
                    "type": "string",
                    "example": "USD"
                },
                "external_transaction_id": {
                    "type": "string",
                    "example": "wompi_tx_123456"
                },
                "failure_reason": {
                    "type": "string",
                    "example": "Fondos insuficientes"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "payment_method": {
                    "type": "string",
                    "example": "wompi"
                },
                "period_end": {
                    "type": "string",
                    "example": "2024-02-01T00:00:00Z"
                },
                "period_start": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "processed_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaymentStatus"
                        }
                    ],
                    "example": "completed"
                },
                "tenant_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaymentResponse": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "integer",
                    "example": 4900
                },
                "concept": {
                    "type": "string",
                    "example": "Pago mensual - Plan Pro"
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "currency": {
                    "type": "string",
                    "example": "USD"
                },
                "external_transaction_id": {
                    "type": "string",
                    "example": "wompi_tx_123456"
                },
                "failure_reason": {
                    "type": "string",
                    "example": "Fondos insuficientes"
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "payment_method": {
                    "type": "string",
                    "example": "wompi"
                },
                "period_end": {
                    "type": "string",
                    "example": "2024-02-01T00:00:00Z"
                },
                "period_start": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "processed_at": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaymentStatus"
                        }
                    ],
                    "example": "completed"
                },
                "tenant_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                }
            }
        },
        "PaymentStatus": {
            "type": "string",
            "enum": [
                "pending",
                "completed",
                "failed",
                "refunded"
            ],
            "x-enum-varnames": [
                "PaymentPending",
                "PaymentCompleted",
                "PaymentFailed",
                "PaymentRefunded"
            ]
        },
        "Action": {
            "type": "string",
            "enum": [
                "get",
                "post",
                "put",
                "patch",
                "delete"
            ],
            "x-enum-varnames": [
                "ActionGet",
                "ActionPost",
                "ActionPut",
                "ActionPatch",
                "ActionDelete"
            ]
        },
        "CreatePermissionDTO": {
            "type": "object",
            "required": [
                "action",
                "resource_id",
                "tenant_id"
            ],
            "properties": {
                "action": {
                    "description": "Acción permitida: get, post, put, patch, delete",
                    "type": "string",
                    "example": "get"
                },
                "resource_id": {
                    "description": "ID del recurso asociado",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "tenant_id": {
                    "description": "ID del tenant al que pertenece",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaginatedPermissionsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de permisos",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/PermissionResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "PermissionResponse": {
            "type": "object",
            "properties": {
                "action": {
                    "description": "Acción permitida",
                    "allOf": [
                        {
                            "$ref": "#/definitions/Action"
                        }
                    ],
                    "example": "get"
                },
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string"
                },
                "id": {
                    "description": "ID único del permiso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "resource": {
                    "description": "Recurso asociado (poblado)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ResourceRef"
                        }
                    ]
                },
                "tenant_id": {
                    "description": "ID del tenant",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string"
                }
            }
        },
        "ResourceRef": {
            "type": "object",
            "properties": {
                "id": {
                    "description": "ID del recurso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                }
            }
        },
        "UpdatePermissionDTO": {
            "type": "object",
            "properties": {
                "action": {
                    "description": "Acción permitida: get, post, put, patch, delete",
                    "type": "string",
                    "example": "post"
                }
            }
        },
        "CreatePlanDTO": {
            "type": "object",
            "required": [
                "annual_price",
                "currency",
                "max_branches",
                "max_users",
                "monthly_price",
                "name",
                "storage_limit_gb"
            ],
            "properties": {
                "annual_price": {
                    "type": "number",
                    "minimum": 0,
                    "example": 490
                },
                "currency": {
                    "type": "string",
                    "example": "USD"
                },
                "description": {
                    "type": "string",
                    "example": "Plan profesional con todas las funcionalidades"
                },
                "features": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "Gestión de pacientes",
                        "Historial clínico",
                        "Facturación"
                    ]
                },
                "is_visible": {
                    "type": "boolean",
                    "example": true
                },
                "max_branches": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 3
                },
                "max_users": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 10
                },
                "monthly_price": {
                    "type": "number",
                    "minimum": 0,
                    "example": 49
                },
                "name": {
                    "type": "string",
                    "example": "Pro Plan"
                },
                "storage_limit_gb": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 10
                }
            }
        },
        "PlanResponse": {
            "type": "object",
            "properties": {
                "annual_price": {
                    "type": "number",
                    "example": 490
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "currency": {
                    "type": "string",
                    "example": "USD"
                },
                "description": {
                    "type": "string",
                    "example": "Plan profesional"
                },
                "features": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "Gestión de pacientes",
                        "Historial clínico"
                    ]
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "is_visible": {
                    "type": "boolean",
                    "example": true
                },
                "max_branches": {
                    "type": "integer",
                    "example": 3
                },
                "max_users": {
                    "type": "integer",
                    "example": 10
                },
                "monthly_price": {
                    "type": "number",
                    "example": 49
                },
                "name": {
                    "type": "string",
                    "example": "Pro Plan"
                },
                "storage_limit_gb": {
                    "type": "integer",
                    "example": 10
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                }
            }
        },
        "UpdatePlanDTO": {
            "type": "object",
            "properties": {
                "annual_price": {
                    "type": "number",
                    "example": 490
                },
                "description": {
                    "type": "string",
                    "example": "Plan profesional"
                },
                "features": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "is_visible": {
                    "type": "boolean"
                },
                "max_branches": {
                    "type": "integer",
                    "example": 3
                },
                "max_users": {
                    "type": "integer",
                    "example": 10
                },
                "monthly_price": {
                    "type": "number",
                    "example": 49
                },
                "name": {
                    "type": "string",
                    "example": "Pro Plan"
                },
                "storage_limit_gb": {
                    "type": "integer",
                    "example": 10
                }
            }
        },
        "CreateResourceDTO": {
            "type": "object",
            "required": [
                "name",
                "tenant_id"
            ],
            "properties": {
                "description": {
                    "description": "Descripción del recurso",
                    "type": "string",
                    "example": "Módulo de citas veterinarias"
                },
                "name": {
                    "description": "Nombre del recurso (debe coincidir con el segmento de ruta, ej: appointments)",
                    "type": "string",
                    "minLength": 2,
                    "example": "appointments"
                },
                "tenant_id": {
                    "description": "ID del tenant al que pertenece",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaginatedResourcesResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de recursos",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ResourceResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "ResourceResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string"
                },
                "description": {
                    "description": "Descripción del recurso",
                    "type": "string",
                    "example": "Módulo de citas veterinarias"
                },
                "id": {
                    "description": "ID único del recurso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                },
                "tenant_id": {
                    "description": "ID del tenant",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string"
                }
            }
        },
        "UpdateResourceDTO": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "Descripción del recurso",
                    "type": "string",
                    "example": "Módulo de citas veterinarias"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                }
            }
        },
        "CreateRoleDTO": {
            "type": "object",
            "required": [
                "name",
                "tenant_id"
            ],
            "properties": {
                "description": {
                    "description": "Descripción del rol",
                    "type": "string",
                    "example": "Rol para veterinarios"
                },
                "name": {
                    "description": "Nombre del rol",
                    "type": "string",
                    "minLength": 2,
                    "example": "veterinary"
                },
                "permissions_ids": {
                    "description": "IDs de permisos asignados (pares recurso+acción)",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "507f1f77bcf86cd799439011"
                    ]
                },
                "resources_ids": {
                    "description": "IDs de recursos accesibles por este rol",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "507f1f77bcf86cd799439011"
                    ]
                },
                "tenant_id": {
                    "description": "ID del tenant al que pertenece",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                }
            }
        },
        "PaginatedRolesResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de roles",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/RoleResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "PermissionRef": {
            "type": "object",
            "properties": {
                "action": {
                    "description": "Acción permitida",
                    "type": "string",
                    "example": "get"
                },
                "id": {
                    "description": "ID del permiso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "resource": {
                    "description": "Recurso asociado",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ResourceRef"
                        }
                    ]
                }
            }
        },
        "ResourceRef": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "Descripción",
                    "type": "string",
                    "example": "Módulo de citas"
                },
                "id": {
                    "description": "ID del recurso",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del recurso",
                    "type": "string",
                    "example": "appointments"
                }
            }
        },
        "RoleResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string"
                },
                "description": {
                    "description": "Descripción del rol",
                    "type": "string",
                    "example": "Rol para veterinarios"
                },
                "id": {
                    "description": "ID único del rol",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del rol",
                    "type": "string",
                    "example": "veterinary"
                },
                "permissions": {
                    "description": "Permisos poblados (recurso + acción)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/PermissionRef"
                    }
                },
                "resources": {
                    "description": "Recursos accesibles poblados",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ResourceRef"
                    }
                },
                "tenant_id": {
                    "description": "ID del tenant",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string"
                }
            }
        },
        "UpdateRoleDTO": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "Descripción del rol",
                    "type": "string",
                    "example": "Rol para veterinarios"
                },
                "name": {
                    "description": "Nombre del rol",
                    "type": "string",
                    "example": "veterinary"
                },
                "permissions_ids": {
                    "description": "IDs de permisos asignados",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "resources_ids": {
                    "description": "IDs de recursos accesibles",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "CreateTenantDTO": {
            "type": "object",
            "required": [
                "address",
                "commercial_name",
                "country",
                "currency",
                "domain",
                "email",
                "identification_number",
                "industry",
                "name",
                "owner_id",
                "phone",
                "timezone"
            ],
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 123 #45-67"
                },
                "commercial_name": {
                    "type": "string",
                    "example": "Vet Vida"
                },
                "country": {
                    "type": "string",
                    "example": "Colombia"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "domain": {
                    "description": "Técnico",
                    "type": "string",
                    "example": "vetvida"
                },
                "email": {
                    "description": "Contacto",
                    "type": "string",
                    "example": "contacto@vetvida.com"
                },
                "identification_number": {
                    "type": "string",
                    "example": "900123456-7"
                },
                "industry": {
                    "type": "string",
                    "example": "veterinary"
                },
                "logo": {
                    "type": "string",
                    "example": "https://example.com/logo.png"
                },
                "name": {
                    "description": "Información Básica",
                    "type": "string",
                    "minLength": 2,
                    "example": "Clínica Vet Vida"
                },
                "owner_id": {
                    "description": "ID del propietario (referencia a users)",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                },
                "secondary_phone": {
                    "type": "string",
                    "example": "+57 300 987 6543"
                },
                "timezone": {
                    "type": "string",
                    "example": "America/Bogota"
                }
            }
        },
        "TenantResponse": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 123 #45-67"
                },
                "commercial_name": {
                    "type": "string",
                    "example": "Vet Vida"
                },
                "country": {
                    "type": "string",
                    "example": "Colombia"
                },
                "created_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "domain": {
                    "type": "string",
                    "example": "vetvida"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@vetvida.com"
                },
                "id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "identification_number": {
                    "type": "string",
                    "example": "900123456-7"
                },
                "industry": {
                    "type": "string",
                    "example": "veterinary"
                },
                "logo": {
                    "type": "string",
                    "example": "https://example.com/logo.png"
                },
                "name": {
                    "type": "string",
                    "example": "Clínica Vet Vida"
                },
                "owner_id": {
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                },
                "secondary_phone": {
                    "type": "string",
                    "example": "+57 300 987 6543"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/TenantStatus"
                        }
                    ],
                    "example": "active"
                },
                "subscription": {
                    "$ref": "#/definitions/TenantSubscriptionResponse"
                },
                "timezone": {
                    "type": "string",
                    "example": "America/Bogota"
                },
                "updated_at": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "usage": {
                    "$ref": "#/definitions/TenantUsageResponse"
                }
            }
        },
        "TenantStatus": {
            "type": "string",
            "enum": [
                "active",
                "inactive",
                "trial",
                "suspended"
            ],
            "x-enum-varnames": [
                "Active",
                "Inactive",
                "Trial",
                "Suspended"
            ]
        },
        "TenantSubscriptionResponse": {
            "type": "object",
            "properties": {
                "billing_status": {
                    "type": "string"
                },
                "external_subscription_id": {
                    "type": "string"
                },
                "mrr": {
                    "type": "number"
                },
                "payment_provider": {
                    "type": "string"
                },
                "plan_id": {
                    "type": "string"
                },
                "subscription_ends_at": {
                    "type": "string"
                },
                "trial_ends_at": {
                    "type": "string"
                }
            }
        },
        "TenantUsageResponse": {
            "type": "object",
            "properties": {
                "last_reset_date": {
                    "type": "string"
                },
                "storage_limit_mb": {
                    "type": "integer"
                },
                "storage_used_mb": {
                    "type": "integer"
                },
                "users_count": {
                    "type": "integer"
                },
                "users_limit": {
                    "type": "integer"
                }
            }
        },
        "UpdateTenantDTO": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string",
                    "example": "Calle 123 #45-67"
                },
                "commercial_name": {
                    "type": "string",
                    "example": "Vet Vida"
                },
                "country": {
                    "type": "string",
                    "example": "Colombia"
                },
                "currency": {
                    "type": "string",
                    "example": "COP"
                },
                "email": {
                    "type": "string",
                    "example": "contacto@vetvida.com"
                },
                "identification_number": {
                    "type": "string",
                    "example": "900123456-7"
                },
                "industry": {
                    "type": "string",
                    "example": "veterinary"
                },
                "logo": {
                    "type": "string",
                    "example": "https://example.com/logo.png"
                },
                "name": {
                    "type": "string",
                    "example": "Clínica Vet Vida"
                },
                "phone": {
                    "type": "string",
                    "example": "+57 300 123 4567"
                },
                "secondary_phone": {
                    "type": "string",
                    "example": "+57 300 987 6543"
                },
                "timezone": {
                    "type": "string",
                    "example": "America/Bogota"
                }
            }
        },
        "CreateUserDTO": {
            "type": "object",
            "required": [
                "email",
                "name",
                "password"
            ],
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "minLength": 2,
                    "example": "John Doe"
                },
                "password": {
                    "description": "Contraseña (mínimo 6 caracteres)",
                    "type": "string",
                    "minLength": 6,
                    "example": "secret123"
                }
            }
        },
        "PaginatedUsersResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Lista de usuarios",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/UserResponse"
                    }
                },
                "pagination": {
                    "description": "Información de paginación",
                    "allOf": [
                        {
                            "$ref": "#/definitions/PaginationInfo"
                        }
                    ]
                }
            }
        },
        "UpdateUserDTO": {
            "type": "object",
            "properties": {
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "jane@example.com"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "example": "Jane Doe"
                }
            }
        },
        "UserResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Fecha de creación",
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "email": {
                    "description": "Email del usuario",
                    "type": "string",
                    "example": "john@example.com"
                },
                "id": {
                    "description": "ID único del usuario",
                    "type": "string",
                    "example": "507f1f77bcf86cd799439011"
                },
                "name": {
                    "description": "Nombre del usuario",
                    "type": "string",
                    "example": "John Doe"
                },
                "updated_at": {
                    "description": "Fecha de actualización",
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                }
            }
        }
    },
    "securityDefinitions": {
        "Bearer": {
            "description": "Ingresa el token con el prefijo Bearer: Bearer \u003ctoken\u003e",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}