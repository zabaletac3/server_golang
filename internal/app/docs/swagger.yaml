basePath: /
definitions:
  github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo:
    properties:
      limit:
        description: Límite de registros por página
        example: 10
        type: integer
      skip:
        description: Registros saltados
        example: 0
        type: integer
      total:
        description: Total de registros
        example: 100
        type: integer
      total_pages:
        description: Total de páginas
        example: 10
        type: integer
    type: object
  github_com_eren_dev_go_server_internal_shared_validation.FieldError:
    properties:
      field:
        description: Nombre del campo con error
        example: email
        type: string
      message:
        description: Mensaje de error
        example: must be a valid email
        type: string
    type: object
  github_com_eren_dev_go_server_internal_shared_validation.ValidationError:
    properties:
      errors:
        description: Lista de errores por campo
        items:
          $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.FieldError'
        type: array
    type: object
  internal_modules_auth.LoginDTO:
    properties:
      email:
        description: Email del usuario
        example: john@example.com
        type: string
      password:
        description: Contraseña
        example: secret123
        type: string
    required:
    - email
    - password
    type: object
  internal_modules_auth.RefreshDTO:
    properties:
      refresh_token:
        description: Refresh token
        example: eyJhbGciOiJIUzI1NiIs...
        type: string
    required:
    - refresh_token
    type: object
  internal_modules_auth.RegisterDTO:
    properties:
      email:
        description: Email del usuario
        example: john@example.com
        type: string
      name:
        description: Nombre del usuario
        example: John Doe
        minLength: 2
        type: string
      password:
        description: Contraseña (mínimo 6 caracteres)
        example: secret123
        minLength: 6
        type: string
    required:
    - email
    - name
    - password
    type: object
  internal_modules_auth.TokenResponse:
    properties:
      access_token:
        description: Access token JWT
        example: eyJhbGciOiJIUzI1NiIs...
        type: string
      expires_in:
        description: Tiempo de expiración en segundos
        example: 900
        type: integer
      refresh_token:
        description: Refresh token JWT
        example: eyJhbGciOiJIUzI1NiIs...
        type: string
    type: object
  internal_modules_auth.UserInfo:
    properties:
      email:
        description: Email del usuario
        example: john@example.com
        type: string
      id:
        description: ID del usuario
        example: 507f1f77bcf86cd799439011
        type: string
      name:
        description: Nombre del usuario
        example: John Doe
        type: string
    type: object
  internal_modules_mobile_auth.LoginDTO:
    properties:
      email:
        example: juan@example.com
        type: string
      password:
        example: secret123
        type: string
    required:
    - email
    - password
    type: object
  internal_modules_mobile_auth.OwnerInfo:
    properties:
      email:
        type: string
      id:
        type: string
      name:
        type: string
      phone:
        type: string
    type: object
  internal_modules_mobile_auth.RefreshDTO:
    properties:
      refresh_token:
        example: eyJhbGci...
        type: string
    required:
    - refresh_token
    type: object
  internal_modules_mobile_auth.RegisterDTO:
    properties:
      email:
        example: juan@example.com
        type: string
      name:
        example: Juan Pérez
        minLength: 2
        type: string
      password:
        example: secret123
        minLength: 6
        type: string
      phone:
        example: +57 300 123 4567
        type: string
    required:
    - email
    - name
    - password
    type: object
  internal_modules_mobile_auth.TokenResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
    type: object
  internal_modules_notifications.NotificationResponse:
    properties:
      body:
        type: string
      created_at:
        type: string
      data:
        additionalProperties:
          type: string
        type: object
      id:
        type: string
      push_sent:
        type: boolean
      read:
        type: boolean
      read_at:
        type: string
      title:
        type: string
      type:
        $ref: '#/definitions/internal_modules_notifications.NotificationType'
    type: object
  internal_modules_notifications.NotificationType:
    enum:
    - appointment_confirmed
    - appointment_cancelled
    - appointment_reminder
    - vaccination_due
    - medical_record_updated
    - prescription_ready
    - general
    type: string
    x-enum-varnames:
    - TypeAppointmentConfirmed
    - TypeAppointmentCancelled
    - TypeAppointmentReminder
    - TypeVaccinationDue
    - TypeMedicalRecordUpdated
    - TypePrescriptionReady
    - TypeGeneral
  internal_modules_notifications.PaginatedNotificationsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_modules_notifications.NotificationResponse'
        type: array
      pagination:
        $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
    type: object
  internal_modules_notifications.PaginatedStaffNotificationsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_modules_notifications.StaffNotificationResponse'
        type: array
      pagination:
        $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
    type: object
  internal_modules_notifications.StaffNotificationResponse:
    properties:
      body:
        type: string
      created_at:
        type: string
      data:
        additionalProperties:
          type: string
        type: object
      id:
        type: string
      read:
        type: boolean
      read_at:
        type: string
      title:
        type: string
      type:
        $ref: '#/definitions/internal_modules_notifications.StaffNotificationType'
    type: object
  internal_modules_notifications.StaffNotificationType:
    enum:
    - new_appointment
    - payment_received
    - new_patient
    - system_alert
    - general
    type: string
    x-enum-varnames:
    - TypeStaffNewAppointment
    - TypeStaffPaymentReceived
    - TypeStaffNewPatient
    - TypeStaffSystemAlert
    - TypeStaffGeneral
  internal_modules_notifications.UnreadCountResponse:
    properties:
      count:
        type: integer
    type: object
  internal_modules_owners.OwnerResponse:
    properties:
      address:
        type: string
      avatar_url:
        type: string
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      phone:
        type: string
      push_tokens:
        items:
          $ref: '#/definitions/internal_modules_owners.PushTokenResponse'
        type: array
      tenant_ids:
        items:
          type: string
        type: array
      updated_at:
        type: string
    type: object
  internal_modules_owners.PaginatedOwnersResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_modules_owners.OwnerResponse'
        type: array
      pagination:
        $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
    type: object
  internal_modules_owners.PushTokenResponse:
    properties:
      active:
        type: boolean
      platform:
        type: string
      token:
        type: string
      updated_at:
        type: string
    type: object
  internal_modules_owners.RegisterPushTokenDTO:
    properties:
      platform:
        enum:
        - ios
        - android
        example: android
        type: string
      token:
        example: fcm-token-abc123
        type: string
    required:
    - platform
    - token
    type: object
  internal_modules_owners.UpdateOwnerDTO:
    properties:
      address:
        example: 'Calle 10 # 20-30, Medellín'
        type: string
      avatar_url:
        example: https://cdn.example.com/avatar.jpg
        type: string
      name:
        example: Juan Pérez
        type: string
      phone:
        example: +57 300 123 4567
        type: string
    type: object
  internal_modules_patients.CreatePatientDTO:
    properties:
      avatar_url:
        type: string
      birth_date:
        type: string
      breed:
        example: Labrador
        type: string
      color:
        example: Dorado
        type: string
      gender:
        allOf:
        - $ref: '#/definitions/internal_modules_patients.Gender'
        enum:
        - male
        - female
        - unknown
      microchip:
        example: "985112000123456"
        type: string
      name:
        example: Max
        type: string
      notes:
        type: string
      owner_id:
        type: string
      species_id:
        type: string
      sterilized:
        type: boolean
      weight:
        example: 12.5
        type: number
    required:
    - gender
    - name
    - owner_id
    - species_id
    - weight
    type: object
  internal_modules_patients.Gender:
    enum:
    - male
    - female
    - unknown
    type: string
    x-enum-varnames:
    - GenderMale
    - GenderFemale
    - GenderUnknown
  internal_modules_patients.PaginatedPatientsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/internal_modules_patients.PatientResponse'
        type: array
      pagination:
        $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
    type: object
  internal_modules_patients.PatientResponse:
    properties:
      active:
        type: boolean
      avatar_url:
        type: string
      birth_date:
        type: string
      breed:
        type: string
      color:
        type: string
      created_at:
        type: string
      gender:
        $ref: '#/definitions/internal_modules_patients.Gender'
      id:
        type: string
      microchip:
        type: string
      name:
        type: string
      notes:
        type: string
      owner_id:
        type: string
      species_id:
        type: string
      sterilized:
        type: boolean
      tenant_id:
        type: string
      updated_at:
        type: string
      weight:
        type: number
    type: object
  internal_modules_patients.ResolveSpeciesDTO:
    properties:
      name:
        example: Canino
        type: string
    required:
    - name
    type: object
  internal_modules_patients.SpeciesResponse:
    properties:
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      normalized_name:
        type: string
      tenant_id:
        type: string
    type: object
  internal_modules_patients.UpdatePatientDTO:
    properties:
      active:
        type: boolean
      avatar_url:
        type: string
      birth_date:
        type: string
      breed:
        type: string
      color:
        type: string
      gender:
        allOf:
        - $ref: '#/definitions/internal_modules_patients.Gender'
        enum:
        - male
        - female
        - unknown
      microchip:
        type: string
      name:
        type: string
      notes:
        type: string
      species_id:
        type: string
      sterilized:
        type: boolean
      weight:
        type: number
    type: object
  internal_modules_payments.CreatePaymentDTO:
    properties:
      amount:
        example: 4900
        minimum: 1
        type: integer
      concept:
        example: Pago mensual - Plan Pro
        type: string
      currency:
        example: COP
        type: string
      external_transaction_id:
        example: wompi_tx_123456
        type: string
      failure_reason:
        example: Fondos insuficientes
        type: string
      metadata:
        additionalProperties: true
        type: object
      payment_method:
        example: wompi
        type: string
      period_end:
        example: "2024-02-01T00:00:00Z"
        type: string
      period_start:
        example: "2024-01-01T00:00:00Z"
        type: string
      plan_id:
        example: 507f1f77bcf86cd799439011
        type: string
      processed_at:
        example: "2024-01-15T10:30:00Z"
        type: string
      status:
        allOf:
        - $ref: '#/definitions/internal_modules_payments.PaymentStatus'
        example: completed
      tenant_id:
        example: 507f1f77bcf86cd799439011
        type: string
    required:
    - amount
    - concept
    - currency
    - payment_method
    - status
    - tenant_id
    type: object
  internal_modules_payments.PaymentResponse:
    properties:
      amount:
        example: 4900
        type: integer
      concept:
        example: Pago mensual - Plan Pro
        type: string
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      currency:
        example: COP
        type: string
      external_transaction_id:
        example: wompi_tx_123456
        type: string
      failure_reason:
        example: Fondos insuficientes
        type: string
      id:
        example: 507f1f77bcf86cd799439011
        type: string
      metadata:
        additionalProperties: true
        type: object
      payment_method:
        example: wompi
        type: string
      period_end:
        example: "2024-02-01T00:00:00Z"
        type: string
      period_start:
        example: "2024-01-01T00:00:00Z"
        type: string
      plan_id:
        example: 507f1f77bcf86cd799439011
        type: string
      processed_at:
        example: "2024-01-15T10:30:00Z"
        type: string
      status:
        allOf:
        - $ref: '#/definitions/internal_modules_payments.PaymentStatus'
        example: completed
      tenant_id:
        example: 507f1f77bcf86cd799439011
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  internal_modules_payments.PaymentStatus:
    enum:
    - pending
    - completed
    - failed
    - refunded
    type: string
    x-enum-varnames:
    - PaymentPending
    - PaymentCompleted
    - PaymentFailed
    - PaymentRefunded
  internal_modules_permissions.Action:
    enum:
    - get
    - post
    - put
    - patch
    - delete
    type: string
    x-enum-varnames:
    - ActionGet
    - ActionPost
    - ActionPut
    - ActionPatch
    - ActionDelete
  internal_modules_permissions.CreatePermissionDTO:
    properties:
      action:
        description: 'Acción permitida: get, post, put, patch, delete'
        example: get
        type: string
      resource_id:
        description: ID del recurso asociado
        example: 507f1f77bcf86cd799439011
        type: string
      tenant_id:
        description: ID del tenant al que pertenece
        example: 507f1f77bcf86cd799439011
        type: string
    required:
    - action
    - resource_id
    - tenant_id
    type: object
  internal_modules_permissions.PaginatedPermissionsResponse:
    properties:
      data:
        description: Lista de permisos
        items:
          $ref: '#/definitions/internal_modules_permissions.PermissionResponse'
        type: array
      pagination:
        allOf:
        - $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
        description: Información de paginación
    type: object
  internal_modules_permissions.PermissionResponse:
    properties:
      action:
        allOf:
        - $ref: '#/definitions/internal_modules_permissions.Action'
        description: Acción permitida
        example: get
      created_at:
        description: Fecha de creación
        type: string
      id:
        description: ID único del permiso
        example: 507f1f77bcf86cd799439011
        type: string
      resource:
        allOf:
        - $ref: '#/definitions/internal_modules_permissions.ResourceRef'
        description: Recurso asociado (poblado)
      tenant_id:
        description: ID del tenant
        example: 507f1f77bcf86cd799439011
        type: string
      updated_at:
        description: Fecha de actualización
        type: string
    type: object
  internal_modules_permissions.ResourceRef:
    properties:
      id:
        description: ID del recurso
        example: 507f1f77bcf86cd799439011
        type: string
      name:
        description: Nombre del recurso
        example: appointments
        type: string
    type: object
  internal_modules_permissions.UpdatePermissionDTO:
    properties:
      action:
        description: 'Acción permitida: get, post, put, patch, delete'
        example: post
        type: string
    type: object
  internal_modules_plans.CreatePlanDTO:
    properties:
      annual_price:
        example: 490
        minimum: 0
        type: number
      currency:
        example: USD
        type: string
      description:
        example: Plan profesional con todas las funcionalidades
        type: string
      features:
        example:
        - Gestión de pacientes
        - Historial clínico
        - Facturación
        items:
          type: string
        type: array
      is_visible:
        example: true
        type: boolean
      max_branches:
        example: 3
        minimum: 1
        type: integer
      max_users:
        example: 10
        minimum: 1
        type: integer
      monthly_price:
        example: 49
        minimum: 0
        type: number
      name:
        example: Pro Plan
        type: string
      storage_limit_gb:
        example: 10
        minimum: 1
        type: integer
    required:
    - annual_price
    - currency
    - max_branches
    - max_users
    - monthly_price
    - name
    - storage_limit_gb
    type: object
  internal_modules_plans.PlanResponse:
    properties:
      annual_price:
        example: 490
        type: number
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      currency:
        example: USD
        type: string
      description:
        example: Plan profesional
        type: string
      features:
        example:
        - Gestión de pacientes
        - Historial clínico
        items:
          type: string
        type: array
      id:
        example: 507f1f77bcf86cd799439011
        type: string
      is_visible:
        example: true
        type: boolean
      max_branches:
        example: 3
        type: integer
      max_users:
        example: 10
        type: integer
      monthly_price:
        example: 49
        type: number
      name:
        example: Pro Plan
        type: string
      storage_limit_gb:
        example: 10
        type: integer
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  internal_modules_plans.UpdatePlanDTO:
    properties:
      annual_price:
        example: 490
        type: number
      description:
        example: Plan profesional
        type: string
      features:
        items:
          type: string
        type: array
      is_visible:
        type: boolean
      max_branches:
        example: 3
        type: integer
      max_users:
        example: 10
        type: integer
      monthly_price:
        example: 49
        type: number
      name:
        example: Pro Plan
        type: string
      storage_limit_gb:
        example: 10
        type: integer
    type: object
  internal_modules_resources.CreateResourceDTO:
    properties:
      description:
        description: Descripción del recurso
        example: Módulo de citas veterinarias
        type: string
      name:
        description: 'Nombre del recurso (debe coincidir con el segmento de ruta,
          ej: appointments)'
        example: appointments
        minLength: 2
        type: string
      tenant_id:
        description: ID del tenant al que pertenece
        example: 507f1f77bcf86cd799439011
        type: string
    required:
    - name
    - tenant_id
    type: object
  internal_modules_resources.PaginatedResourcesResponse:
    properties:
      data:
        description: Lista de recursos
        items:
          $ref: '#/definitions/internal_modules_resources.ResourceResponse'
        type: array
      pagination:
        allOf:
        - $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
        description: Información de paginación
    type: object
  internal_modules_resources.ResourceResponse:
    properties:
      created_at:
        description: Fecha de creación
        type: string
      description:
        description: Descripción del recurso
        example: Módulo de citas veterinarias
        type: string
      id:
        description: ID único del recurso
        example: 507f1f77bcf86cd799439011
        type: string
      name:
        description: Nombre del recurso
        example: appointments
        type: string
      tenant_id:
        description: ID del tenant
        example: 507f1f77bcf86cd799439011
        type: string
      updated_at:
        description: Fecha de actualización
        type: string
    type: object
  internal_modules_resources.UpdateResourceDTO:
    properties:
      description:
        description: Descripción del recurso
        example: Módulo de citas veterinarias
        type: string
      name:
        description: Nombre del recurso
        example: appointments
        type: string
    type: object
  internal_modules_roles.CreateRoleDTO:
    properties:
      description:
        description: Descripción del rol
        example: Rol para veterinarios
        type: string
      name:
        description: Nombre del rol
        example: veterinary
        minLength: 2
        type: string
      permissions_ids:
        description: IDs de permisos asignados (pares recurso+acción)
        example:
        - 507f1f77bcf86cd799439011
        items:
          type: string
        type: array
      resources_ids:
        description: IDs de recursos accesibles por este rol
        example:
        - 507f1f77bcf86cd799439011
        items:
          type: string
        type: array
      tenant_id:
        description: ID del tenant al que pertenece
        example: 507f1f77bcf86cd799439011
        type: string
    required:
    - name
    - tenant_id
    type: object
  internal_modules_roles.PaginatedRolesResponse:
    properties:
      data:
        description: Lista de roles
        items:
          $ref: '#/definitions/internal_modules_roles.RoleResponse'
        type: array
      pagination:
        allOf:
        - $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
        description: Información de paginación
    type: object
  internal_modules_roles.PermissionRef:
    properties:
      action:
        description: Acción permitida
        example: get
        type: string
      id:
        description: ID del permiso
        example: 507f1f77bcf86cd799439011
        type: string
      resource:
        allOf:
        - $ref: '#/definitions/internal_modules_roles.ResourceRef'
        description: Recurso asociado
    type: object
  internal_modules_roles.ResourceRef:
    properties:
      description:
        description: Descripción
        example: Módulo de citas
        type: string
      id:
        description: ID del recurso
        example: 507f1f77bcf86cd799439011
        type: string
      name:
        description: Nombre del recurso
        example: appointments
        type: string
    type: object
  internal_modules_roles.RoleResponse:
    properties:
      created_at:
        description: Fecha de creación
        type: string
      description:
        description: Descripción del rol
        example: Rol para veterinarios
        type: string
      id:
        description: ID único del rol
        example: 507f1f77bcf86cd799439011
        type: string
      name:
        description: Nombre del rol
        example: veterinary
        type: string
      permissions:
        description: Permisos poblados (recurso + acción)
        items:
          $ref: '#/definitions/internal_modules_roles.PermissionRef'
        type: array
      resources:
        description: Recursos accesibles poblados
        items:
          $ref: '#/definitions/internal_modules_roles.ResourceRef'
        type: array
      tenant_id:
        description: ID del tenant
        example: 507f1f77bcf86cd799439011
        type: string
      updated_at:
        description: Fecha de actualización
        type: string
    type: object
  internal_modules_roles.UpdateRoleDTO:
    properties:
      description:
        description: Descripción del rol
        example: Rol para veterinarios
        type: string
      name:
        description: Nombre del rol
        example: veterinary
        type: string
      permissions_ids:
        description: IDs de permisos asignados
        items:
          type: string
        type: array
      resources_ids:
        description: IDs de recursos accesibles
        items:
          type: string
        type: array
    type: object
  internal_modules_tenant.CreateTenantDTO:
    properties:
      address:
        example: 'Calle 123 #45-67'
        type: string
      commercial_name:
        example: Vet Vida
        type: string
      country:
        example: Colombia
        type: string
      currency:
        example: COP
        type: string
      domain:
        description: Técnico
        example: vetvida
        type: string
      email:
        description: Contacto
        example: contacto@vetvida.com
        type: string
      identification_number:
        example: 900123456-7
        type: string
      industry:
        example: veterinary
        type: string
      logo:
        example: https://example.com/logo.png
        type: string
      name:
        description: Información Básica
        example: Clínica Vet Vida
        minLength: 2
        type: string
      owner_id:
        description: ID del propietario (referencia a users)
        example: 507f1f77bcf86cd799439011
        type: string
      phone:
        example: +57 300 123 4567
        type: string
      secondary_phone:
        example: +57 300 987 6543
        type: string
      timezone:
        example: America/Bogota
        type: string
    required:
    - address
    - commercial_name
    - country
    - currency
    - domain
    - email
    - identification_number
    - industry
    - name
    - owner_id
    - phone
    - timezone
    type: object
  internal_modules_tenant.SubscribeDTO:
    properties:
      billing_period:
        enum:
        - monthly
        - annual
        example: monthly
        type: string
      plan_id:
        example: 507f1f77bcf86cd799439011
        type: string
    required:
    - billing_period
    - plan_id
    type: object
  internal_modules_tenant.SubscribeResponse:
    properties:
      payment_id:
        example: 507f1f77bcf86cd799439011
        type: string
      payment_link_url:
        example: https://checkout.wompi.co/l/abc123
        type: string
    type: object
  internal_modules_tenant.TenantResponse:
    properties:
      address:
        example: 'Calle 123 #45-67'
        type: string
      commercial_name:
        example: Vet Vida
        type: string
      country:
        example: Colombia
        type: string
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      currency:
        example: COP
        type: string
      domain:
        example: vetvida
        type: string
      email:
        example: contacto@vetvida.com
        type: string
      id:
        example: 507f1f77bcf86cd799439011
        type: string
      identification_number:
        example: 900123456-7
        type: string
      industry:
        example: veterinary
        type: string
      logo:
        example: https://example.com/logo.png
        type: string
      name:
        example: Clínica Vet Vida
        type: string
      owner_id:
        example: 507f1f77bcf86cd799439011
        type: string
      phone:
        example: +57 300 123 4567
        type: string
      secondary_phone:
        example: +57 300 987 6543
        type: string
      status:
        allOf:
        - $ref: '#/definitions/internal_modules_tenant.TenantStatus'
        example: active
      subscription:
        $ref: '#/definitions/internal_modules_tenant.TenantSubscriptionResponse'
      timezone:
        example: America/Bogota
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      usage:
        $ref: '#/definitions/internal_modules_tenant.TenantUsageResponse'
    type: object
  internal_modules_tenant.TenantStatus:
    enum:
    - active
    - inactive
    - trial
    - suspended
    type: string
    x-enum-varnames:
    - Active
    - Inactive
    - Trial
    - Suspended
  internal_modules_tenant.TenantSubscriptionResponse:
    properties:
      billing_status:
        type: string
      external_subscription_id:
        type: string
      mrr:
        type: number
      payment_provider:
        type: string
      plan_id:
        type: string
      subscription_ends_at:
        type: string
      trial_ends_at:
        type: string
    type: object
  internal_modules_tenant.TenantUsageResponse:
    properties:
      last_reset_date:
        type: string
      storage_limit_mb:
        type: integer
      storage_used_mb:
        type: integer
      users_count:
        type: integer
      users_limit:
        type: integer
    type: object
  internal_modules_tenant.UpdateTenantDTO:
    properties:
      address:
        example: 'Calle 123 #45-67'
        type: string
      commercial_name:
        example: Vet Vida
        type: string
      country:
        example: Colombia
        type: string
      currency:
        example: COP
        type: string
      email:
        example: contacto@vetvida.com
        type: string
      identification_number:
        example: 900123456-7
        type: string
      industry:
        example: veterinary
        type: string
      logo:
        example: https://example.com/logo.png
        type: string
      name:
        example: Clínica Vet Vida
        type: string
      phone:
        example: +57 300 123 4567
        type: string
      secondary_phone:
        example: +57 300 987 6543
        type: string
      timezone:
        example: America/Bogota
        type: string
    type: object
  internal_modules_users.CreateUserDTO:
    properties:
      email:
        description: Email del usuario
        example: john@example.com
        type: string
      name:
        description: Nombre del usuario
        example: John Doe
        minLength: 2
        type: string
      password:
        description: Contraseña (mínimo 6 caracteres)
        example: secret123
        minLength: 6
        type: string
    required:
    - email
    - name
    - password
    type: object
  internal_modules_users.PaginatedUsersResponse:
    properties:
      data:
        description: Lista de usuarios
        items:
          $ref: '#/definitions/internal_modules_users.UserResponse'
        type: array
      pagination:
        allOf:
        - $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_pagination.PaginationInfo'
        description: Información de paginación
    type: object
  internal_modules_users.UpdateUserDTO:
    properties:
      email:
        description: Email del usuario
        example: jane@example.com
        type: string
      name:
        description: Nombre del usuario
        example: Jane Doe
        type: string
    type: object
  internal_modules_users.UserResponse:
    properties:
      created_at:
        description: Fecha de creación
        example: "2024-01-01T00:00:00Z"
        type: string
      email:
        description: Email del usuario
        example: john@example.com
        type: string
      id:
        description: ID único del usuario
        example: 507f1f77bcf86cd799439011
        type: string
      name:
        description: Nombre del usuario
        example: John Doe
        type: string
      updated_at:
        description: Fecha de actualización
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: support@vetsify.com
    name: Vetsify Support
  description: |-
    API para plataforma veterinaria multi-tenant. Soporta panel de administración (staff) y app móvil (owners).

    ## Autenticación
    Todas las rutas protegidas requieren el header `Authorization: Bearer <token>`.
    - **Staff**: Obtén tokens via `POST /api/auth/login`
    - **Owners (mobile)**: Obtén tokens via `POST /mobile/auth/login`

    ## Multi-tenancy
    Las rutas que operan sobre datos de un tenant específico (patients, species, etc.) requieren el header `X-Tenant-ID` con el ObjectID del tenant.
    Este header debe enviarse en **todas** las peticiones a rutas marcadas con el parámetro `X-Tenant-ID`.
    El frontend puede configurarlo una vez en el interceptor HTTP (axios/fetch).

    ## Roles (RBAC)
    Las rutas del panel admin (`/api/*`) están protegidas por RBAC.
    Roles disponibles: `admin`, `veterinarian`, `receptionist`, `assistant`, `accountant`.

    ## Paginación
    Las rutas que retornan listas soportan `skip` y `limit` como query params.
    Respuesta incluye `pagination: { skip, limit, total, total_pages }`.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  title: Vetsify API
  version: "1.0"
paths:
  /api/auth/login:
    post:
      consumes:
      - application/json
      description: Autentica un usuario y retorna tokens
      parameters:
      - description: Credenciales
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_auth.LoginDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_auth.TokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: Credenciales inválidas
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Iniciar sesión
      tags:
      - auth
  /api/auth/me:
    get:
      consumes:
      - application/json
      description: Obtiene información del usuario autenticado
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_auth.UserInfo'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Usuario actual
      tags:
      - auth
  /api/auth/refresh:
    post:
      consumes:
      - application/json
      description: Genera un nuevo access token usando el refresh token
      parameters:
      - description: Refresh token
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_auth.RefreshDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_auth.TokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: Token inválido
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Renovar token
      tags:
      - auth
  /api/auth/register:
    post:
      consumes:
      - application/json
      description: Crea una nueva cuenta de usuario
      parameters:
      - description: Datos de registro
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_auth.RegisterDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_auth.TokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "409":
          description: Email ya existe
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Registrar usuario
      tags:
      - auth
  /api/notifications:
    get:
      parameters:
      - description: Skip
        in: query
        name: skip
        type: integer
      - description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_notifications.PaginatedStaffNotificationsResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: List my notifications (staff)
      tags:
      - admin/notifications
  /api/notifications/{id}/read:
    patch:
      parameters:
      - description: Notification ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Mark notification as read (staff)
      tags:
      - admin/notifications
  /api/notifications/read-all:
    patch:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Mark all notifications as read (staff)
      tags:
      - admin/notifications
  /api/notifications/unread-count:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_notifications.UnreadCountResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Unread notification count (staff)
      tags:
      - admin/notifications
  /api/owners:
    get:
      parameters:
      - description: Skip
        in: query
        name: skip
        type: integer
      - description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_owners.PaginatedOwnersResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: List owners
      tags:
      - owners
  /api/owners/{id}:
    delete:
      parameters:
      - description: Owner ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Delete owner
      tags:
      - owners
    get:
      parameters:
      - description: Owner ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_owners.OwnerResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Get owner by ID
      tags:
      - owners
  /api/patients:
    get:
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Skip
        in: query
        name: skip
        type: integer
      - description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.PaginatedPatientsResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: List patients
      tags:
      - patients
    post:
      consumes:
      - application/json
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Patient data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_patients.CreatePatientDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.PatientResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Create patient
      tags:
      - patients
  /api/patients/{id}:
    delete:
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Delete patient
      tags:
      - patients
    get:
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.PatientResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Get patient by ID
      tags:
      - patients
    patch:
      consumes:
      - application/json
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      - description: Update data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_patients.UpdatePatientDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.PatientResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Update patient
      tags:
      - patients
  /api/payments:
    post:
      consumes:
      - application/json
      description: Registra un nuevo pago en el sistema
      parameters:
      - description: Datos del pago
        in: body
        name: payment
        required: true
        schema:
          $ref: '#/definitions/internal_modules_payments.CreatePaymentDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_modules_payments.PaymentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Crear pago
      tags:
      - payments
  /api/payments/{id}:
    get:
      description: Obtiene un pago por ID
      parameters:
      - description: Payment ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_payments.PaymentResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Obtener pago
      tags:
      - payments
  /api/permissions:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de permisos
      parameters:
      - default: 0
        description: ' '
        in: query
        name: skip
        type: integer
      - default: 10
        description: ' '
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_permissions.PaginatedPermissionsResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Listar permisos
      tags:
      - permissions
    post:
      consumes:
      - application/json
      description: Crea un nuevo permiso (combinación recurso + acción)
      parameters:
      - description: Datos del permiso
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_permissions.CreatePermissionDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_permissions.PermissionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Permiso ya existe
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Crear permiso
      tags:
      - permissions
  /api/permissions/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un permiso por su ID (soft delete)
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Eliminar permiso
      tags:
      - permissions
    get:
      consumes:
      - application/json
      description: Obtiene un permiso por su ID con el recurso poblado
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_permissions.PermissionResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Obtener permiso
      tags:
      - permissions
    patch:
      consumes:
      - application/json
      description: Actualiza la acción de un permiso existente
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_permissions.UpdatePermissionDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_permissions.PermissionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Actualizar permiso
      tags:
      - permissions
  /api/plans:
    get:
      description: Obtiene todos los planes (admin)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_modules_plans.PlanResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Listar planes
      tags:
      - plans
    post:
      consumes:
      - application/json
      description: Crea un nuevo plan de suscripción
      parameters:
      - description: Datos del plan
        in: body
        name: plan
        required: true
        schema:
          $ref: '#/definitions/internal_modules_plans.CreatePlanDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_modules_plans.PlanResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Crear plan
      tags:
      - plans
  /api/plans/{id}:
    delete:
      description: Elimina un plan
      parameters:
      - description: Plan ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Eliminar plan
      tags:
      - plans
    get:
      description: Obtiene un plan por ID
      parameters:
      - description: Plan ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_plans.PlanResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Obtener plan
      tags:
      - plans
    patch:
      consumes:
      - application/json
      description: Actualiza un plan existente
      parameters:
      - description: Plan ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: plan
        required: true
        schema:
          $ref: '#/definitions/internal_modules_plans.UpdatePlanDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_plans.PlanResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Actualizar plan
      tags:
      - plans
  /api/plans/visible:
    get:
      description: Obtiene solo los planes visibles (público)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_modules_plans.PlanResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Listar planes visibles
      tags:
      - plans
  /api/resources:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de recursos
      parameters:
      - default: 0
        description: ' '
        in: query
        name: skip
        type: integer
      - default: 10
        description: ' '
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_resources.PaginatedResourcesResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Listar recursos
      tags:
      - resources
    post:
      consumes:
      - application/json
      description: Crea un nuevo recurso del sistema (debe coincidir con el segmento
        de ruta)
      parameters:
      - description: Datos del recurso
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_resources.CreateResourceDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_resources.ResourceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Nombre ya existe
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Crear recurso
      tags:
      - resources
  /api/resources/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un recurso por su ID (soft delete)
      parameters:
      - description: Resource ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Eliminar recurso
      tags:
      - resources
    get:
      consumes:
      - application/json
      description: Obtiene un recurso por su ID
      parameters:
      - description: Resource ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_resources.ResourceResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Obtener recurso
      tags:
      - resources
    patch:
      consumes:
      - application/json
      description: Actualiza un recurso existente
      parameters:
      - description: Resource ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_resources.UpdateResourceDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_resources.ResourceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Actualizar recurso
      tags:
      - resources
  /api/roles:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de roles con permisos y recursos poblados
      parameters:
      - default: 0
        description: ' '
        in: query
        name: skip
        type: integer
      - default: 10
        description: ' '
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_roles.PaginatedRolesResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Listar roles
      tags:
      - roles
    post:
      consumes:
      - application/json
      description: Crea un nuevo rol con permisos y recursos asignados
      parameters:
      - description: Datos del rol
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_roles.CreateRoleDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_roles.RoleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Nombre ya existe
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Crear rol
      tags:
      - roles
  /api/roles/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un rol por su ID (soft delete)
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Eliminar rol
      tags:
      - roles
    get:
      consumes:
      - application/json
      description: Obtiene un rol por su ID con permisos y recursos poblados
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_roles.RoleResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Obtener rol
      tags:
      - roles
    patch:
      consumes:
      - application/json
      description: Actualiza un rol, sus permisos y/o recursos asignados
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_roles.UpdateRoleDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_roles.RoleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Actualizar rol
      tags:
      - roles
  /api/species:
    get:
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_modules_patients.SpeciesResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: List species
      tags:
      - species
    post:
      consumes:
      - application/json
      description: Finds an exact/similar match or creates a new species. Returns
        409 with suggestions if ambiguous.
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Species name
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_patients.ResolveSpeciesDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.SpeciesResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Resolve or create species
      tags:
      - species
  /api/tenants:
    get:
      consumes:
      - application/json
      description: Obtiene una lista de tenants
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_modules_tenant.TenantResponse'
            type: array
      summary: Listar tenants
      tags:
      - tenant
    post:
      consumes:
      - application/json
      description: Crea un nuevo tenant en el sistema
      parameters:
      - description: Datos del tenant
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_tenant.CreateTenantDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_tenant.TenantResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Crear tenant
      tags:
      - tenant
  /api/tenants/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un tenant por su ID (soft delete)
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Eliminar tenant
      tags:
      - tenant
    get:
      consumes:
      - application/json
      description: Obtiene un tenant por su ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_tenant.TenantResponse'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Obtener tenant
      tags:
      - tenant
    patch:
      consumes:
      - application/json
      description: Actualiza un tenant existente
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_tenant.UpdateTenantDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_tenant.TenantResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Actualizar tenant
      tags:
      - tenant
  /api/tenants/{id}/subscribe:
    post:
      consumes:
      - application/json
      description: Crea un payment link para que el tenant pague y se suscriba al
        plan
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos de suscripción
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_tenant.SubscribeDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_tenant.SubscribeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Suscribir tenant a un plan
      tags:
      - tenant
  /api/tenants/{tenant_id}/payments:
    get:
      description: Obtiene el historial de pagos de un tenant
      parameters:
      - description: Tenant ID
        in: path
        name: tenant_id
        required: true
        type: string
      - default: 50
        description: Límite de resultados
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/internal_modules_payments.PaymentResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Historial de pagos de un tenant
      tags:
      - payments
  /api/users:
    get:
      consumes:
      - application/json
      description: Obtiene una lista paginada de usuarios
      parameters:
      - default: 0
        description: ' '
        in: query
        name: skip
        type: integer
      - default: 10
        description: ' '
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_users.PaginatedUsersResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Listar usuarios
      tags:
      - users
    post:
      consumes:
      - application/json
      description: Crea un nuevo usuario en el sistema
      parameters:
      - description: Datos del usuario
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_users.CreateUserDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_users.UserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Email ya existe
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Crear usuario
      tags:
      - users
  /api/users/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un usuario por su ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: boolean
            type: object
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Eliminar usuario
      tags:
      - users
    get:
      consumes:
      - application/json
      description: Obtiene un usuario por su ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_users.UserResponse'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Obtener usuario
      tags:
      - users
    patch:
      consumes:
      - application/json
      description: Actualiza un usuario existente
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_users.UpdateUserDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_users.UserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_eren_dev_go_server_internal_shared_validation.ValidationError'
        "401":
          description: No autorizado
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No encontrado
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Actualizar usuario
      tags:
      - users
  /api/webhooks/{provider}:
    post:
      consumes:
      - application/json
      description: Endpoint para recibir webhooks de proveedores de pago
      parameters:
      - description: Provider name
        enum:
        - wompi
        - stripe
        in: path
        name: provider
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Procesar webhook de pago
      tags:
      - webhooks
  /mobile/auth/login:
    post:
      consumes:
      - application/json
      parameters:
      - description: Credentials
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_mobile_auth.LoginDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_mobile_auth.TokenResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Login (owner)
      tags:
      - mobile/auth
  /mobile/auth/me:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_mobile_auth.OwnerInfo'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Get current owner
      tags:
      - mobile/auth
  /mobile/auth/refresh:
    post:
      consumes:
      - application/json
      parameters:
      - description: Refresh token
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_mobile_auth.RefreshDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_mobile_auth.TokenResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Refresh token (owner)
      tags:
      - mobile/auth
  /mobile/auth/register:
    post:
      consumes:
      - application/json
      parameters:
      - description: Registration data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_mobile_auth.RegisterDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/internal_modules_mobile_auth.TokenResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Register (owner)
      tags:
      - mobile/auth
  /mobile/notifications:
    get:
      parameters:
      - description: Skip
        in: query
        name: skip
        type: integer
      - description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_notifications.PaginatedNotificationsResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: List my notifications
      tags:
      - mobile/notifications
  /mobile/notifications/{id}/read:
    patch:
      parameters:
      - description: Notification ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Mark notification as read
      tags:
      - mobile/notifications
  /mobile/notifications/read-all:
    patch:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Mark all notifications as read
      tags:
      - mobile/notifications
  /mobile/notifications/unread-count:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_notifications.UnreadCountResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Unread notification count
      tags:
      - mobile/notifications
  /mobile/owners/me:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_owners.OwnerResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Get my profile
      tags:
      - mobile/owners
    patch:
      consumes:
      - application/json
      parameters:
      - description: Profile data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_owners.UpdateOwnerDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_owners.OwnerResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Update my profile
      tags:
      - mobile/owners
  /mobile/owners/me/push-tokens:
    post:
      consumes:
      - application/json
      parameters:
      - description: Push token
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/internal_modules_owners.RegisterPushTokenDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Register push token
      tags:
      - mobile/owners
  /mobile/owners/me/push-tokens/{token}:
    delete:
      parameters:
      - description: Push token value
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Remove push token
      tags:
      - mobile/owners
  /mobile/patients:
    get:
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Skip
        in: query
        name: skip
        type: integer
      - description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.PaginatedPatientsResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: List my patients
      tags:
      - mobile/patients
  /mobile/patients/{id}:
    get:
      parameters:
      - description: Tenant ID
        in: header
        name: X-Tenant-ID
        required: true
        type: string
      - description: Patient ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_modules_patients.PatientResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Get my patient by ID
      tags:
      - mobile/patients
securityDefinitions:
  Bearer:
    description: 'Ingresa el token con el prefijo Bearer: Bearer <token>'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
